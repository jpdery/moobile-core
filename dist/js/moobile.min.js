(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.moobile = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(o,t){function r(o){return""===n?o:(o=o.charAt(0).toUpperCase()+o.substr(1),n+o)}var e=Math,l=t.createElement("div").style,n=function(){for(var o,t="t,webkitT,MozT,msT,OT".split(","),r=0,e=t.length;e>r;r++)if(o=t[r]+"ransform",o in l)return t[r].substr(0,t[r].length-1);return!1}(),s=n?"-"+n.toLowerCase()+"-":"",i=r("transform"),a=r("transitionProperty"),c=r("transitionDuration"),p=r("transformOrigin"),m=r("transitionTimingFunction"),h=r("transitionDelay"),u=/android/gi.test(navigator.appVersion),S=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),b=r("perspective")in l,f="ontouchstart"in o&&!d,x=n!==!1,g=r("transition")in l,y="onorientationchange"in o?"orientationchange":"resize",v=f?"touchstart":"mousedown",Y=f?"touchmove":"mousemove",T=f?"touchend":"mouseup",X=f?"touchcancel":"mouseup",w=function(){if(n===!1)return!1;var o={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return o[n]}(),_=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),z=function(){return o.cancelRequestAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout}(),M=b?" translateZ(0)":"",E=function(r,e){var l,n=this;n.wrapper="object"==typeof r?r:t.getElementById(r),n.wrapper.style.overflow="hidden",n.scroller=n.wrapper.children[0],n.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:u,hideScrollbar:S,fadeScrollbar:S&&b,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){o.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(l in e)n.options[l]=e[l];n.x=n.options.x,n.y=n.options.y,n.options.useTransform=x&&n.options.useTransform,n.options.hScrollbar=n.options.hScroll&&n.options.hScrollbar,n.options.vScrollbar=n.options.vScroll&&n.options.vScrollbar,n.options.zoom=n.options.useTransform&&n.options.zoom,n.options.useTransition=g&&n.options.useTransition,n.options.zoom&&u&&(M=""),n.scroller.style[a]=n.options.useTransform?s+"transform":"top left",n.scroller.style[c]="0",n.scroller.style[p]="0 0",n.options.useTransition&&(n.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.useTransform?n.scroller.style[i]="translate("+n.x+"px,"+n.y+"px)"+M:n.scroller.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.options.useTransition&&(n.options.fixedScrollbar=!0),n.refresh(),n._bind(y,o),n._bind(v),f||"none"!=n.options.wheelAction&&(n._bind("DOMMouseScroll"),n._bind("mousewheel")),n.options.checkDOMChanges&&(n.checkDOMTime=setInterval(function(){n._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var t=this;switch(o.type){case v:if(!f&&0!==o.button)return;t._start(o);break;case Y:t._move(o);break;case T:case X:t._end(o);break;case y:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(o);break;case w:t._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var r,l=this;return l[o+"Scrollbar"]?(l[o+"ScrollbarWrapper"]||(r=t.createElement("div"),l.options.scrollbarClass?r.className=l.options.scrollbarClass+o.toUpperCase():r.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:7px;bottom:1px;left:2px;right:"+(l.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(l.hScrollbar?"7":"2")+"px;top:2px;right:1px"),r.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(l.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(l.options.hideScrollbar?"0":"1"),l.wrapper.appendChild(r),l[o+"ScrollbarWrapper"]=r,r=t.createElement("div"),l.options.scrollbarClass||(r.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==o?"height:100%":"width:100%")+";"+s+"border-radius:3px;border-radius:3px"),r.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+M,l.options.useTransition&&(r.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),l[o+"ScrollbarWrapper"].appendChild(r),l[o+"ScrollbarIndicator"]=r),"h"==o?(l.hScrollbarSize=l.hScrollbarWrapper.clientWidth,l.hScrollbarIndicatorSize=e.max(e.round(l.hScrollbarSize*l.hScrollbarSize/l.scrollerW),8),l.hScrollbarIndicator.style.width=l.hScrollbarIndicatorSize+"px",l.hScrollbarMaxScroll=l.hScrollbarSize-l.hScrollbarIndicatorSize,l.hScrollbarProp=l.hScrollbarMaxScroll/l.maxScrollX):(l.vScrollbarSize=l.vScrollbarWrapper.clientHeight,l.vScrollbarIndicatorSize=e.max(e.round(l.vScrollbarSize*l.vScrollbarSize/l.scrollerH),8),l.vScrollbarIndicator.style.height=l.vScrollbarIndicatorSize+"px",l.vScrollbarMaxScroll=l.vScrollbarSize-l.vScrollbarIndicatorSize,l.vScrollbarProp=l.vScrollbarMaxScroll/l.maxScrollY),void l._scrollbarPos(o,!0)):void(l[o+"ScrollbarWrapper"]&&(x&&(l[o+"ScrollbarIndicator"].style[i]=""),l[o+"ScrollbarWrapper"].parentNode.removeChild(l[o+"ScrollbarWrapper"]),l[o+"ScrollbarWrapper"]=null,l[o+"ScrollbarIndicator"]=null))},_resize:function(){var o=this;setTimeout(function(){o.refresh()},u?200:0)},_pos:function(o,t){this.zoomed||(o=this.hScroll?o:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[i]="translate("+o+"px,"+t+"px) scale("+this.scale+")"+M:(o=e.round(o),t=e.round(t),this.scroller.style.left=o+"px",this.scroller.style.top=t+"px"),this.x=o,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(o,t){var r,l=this,n="h"==o?l.x:l.y;l[o+"Scrollbar"]&&(n=l[o+"ScrollbarProp"]*n,0>n?(l.options.fixedScrollbar||(r=l[o+"ScrollbarIndicatorSize"]+e.round(3*n),8>r&&(r=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=r+"px"),n=0):n>l[o+"ScrollbarMaxScroll"]&&(l.options.fixedScrollbar?n=l[o+"ScrollbarMaxScroll"]:(r=l[o+"ScrollbarIndicatorSize"]-e.round(3*(n-l[o+"ScrollbarMaxScroll"])),8>r&&(r=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=r+"px",n=l[o+"ScrollbarMaxScroll"]+(l[o+"ScrollbarIndicatorSize"]-r))),l[o+"ScrollbarWrapper"].style[h]="0",l[o+"ScrollbarWrapper"].style.opacity=t&&l.options.hideScrollbar?"0":"1",l[o+"ScrollbarIndicator"].style[i]="translate("+("h"==o?n+"px,0)":"0,"+n+"px)")+M)},_start:function(t){var r,l,n,s,a,c=this,p=f?t.touches[0]:t;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,t),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&f&&t.touches.length>1&&(s=e.abs(t.touches[0].pageX-t.touches[1].pageX),a=e.abs(t.touches[0].pageY-t.touches[1].pageY),c.touchesDistStart=e.sqrt(s*s+a*a),c.originX=e.abs(t.touches[0].pageX+t.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=e.abs(t.touches[0].pageY+t.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,t)),c.options.momentum&&(c.options.useTransform?(r=getComputedStyle(c.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),l=+(r[12]||r[4]),n=+(r[13]||r[5])):(l=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),n=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),(l!=c.x||n!=c.y)&&(c.options.useTransition?c._unbind(w):z(c.aniTime),c.steps=[],c._pos(l,n),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=t.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,t),c._bind(Y,o),c._bind(T,o),c._bind(X,o))},_move:function(o){var t,r,l,n=this,s=f?o.touches[0]:o,a=s.pageX-n.pointX,c=s.pageY-n.pointY,p=n.x+a,m=n.y+c,h=o.timeStamp||Date.now();return n.options.onBeforeScrollMove&&n.options.onBeforeScrollMove.call(n,o),n.options.zoom&&f&&o.touches.length>1?(t=e.abs(o.touches[0].pageX-o.touches[1].pageX),r=e.abs(o.touches[0].pageY-o.touches[1].pageY),n.touchesDist=e.sqrt(t*t+r*r),n.zoomed=!0,l=1/n.touchesDistStart*n.touchesDist*this.scale,l<n.options.zoomMin?l=.5*n.options.zoomMin*Math.pow(2,l/n.options.zoomMin):l>n.options.zoomMax&&(l=2*n.options.zoomMax*Math.pow(.5,n.options.zoomMax/l)),n.lastScale=l/this.scale,p=this.originX-this.originX*n.lastScale+this.x,m=this.originY-this.originY*n.lastScale+this.y,this.scroller.style[i]="translate("+p+"px,"+m+"px) scale("+l+")"+M,void(n.options.onZoom&&n.options.onZoom.call(n,o))):(n.pointX=s.pageX,n.pointY=s.pageY,(p>0||p<n.maxScrollX)&&(p=n.options.bounce?n.x+a/2:p>=0||n.maxScrollX>=0?0:n.maxScrollX),(m>n.minScrollY||m<n.maxScrollY)&&(m=n.options.bounce?n.y+c/2:m>=n.minScrollY||n.maxScrollY>=0?n.minScrollY:n.maxScrollY),n.distX+=a,n.distY+=c,n.absDistX=e.abs(n.distX),n.absDistY=e.abs(n.distY),void(n.absDistX<6&&n.absDistY<6||(n.options.lockDirection&&(n.absDistX>n.absDistY+5?(m=n.y,c=0):n.absDistY>n.absDistX+5&&(p=n.x,a=0)),n.moved=!0,n._pos(p,m),n.dirX=a>0?-1:0>a?1:0,n.dirY=c>0?-1:0>c?1:0,h-n.startTime>300&&(n.startTime=h,n.startX=n.x,n.startY=n.y),n.options.onScrollMove&&n.options.onScrollMove.call(n,o))))},_end:function(r){if(!f||0===r.touches.length){var l,n,s,a,p,m,h,u=this,S=f?r.changedTouches[0]:r,d={dist:0,time:0},b={dist:0,time:0},x=(r.timeStamp||Date.now())-u.startTime,g=u.x,y=u.y;if(u._unbind(Y,o),u._unbind(T,o),u._unbind(X,o),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,r),u.zoomed)return h=u.scale*u.lastScale,h=Math.max(u.options.zoomMin,h),h=Math.min(u.options.zoomMax,h),u.lastScale=h/u.scale,u.scale=h,u.x=u.originX-u.originX*u.lastScale+u.x,u.y=u.originY-u.originY*u.lastScale+u.y,u.scroller.style[c]="200ms",u.scroller.style[i]="translate("+u.x+"px,"+u.y+"px) scale("+u.scale+")"+M,u.zoomed=!1,u.refresh(),void(u.options.onZoomEnd&&u.options.onZoomEnd.call(u,r));if(!u.moved)return f&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,r),u.zoom(u.pointX,u.pointY,1==u.scale?u.options.doubleTapZoom:1),u.options.onZoomEnd&&setTimeout(function(){u.options.onZoomEnd.call(u,r)},200)):this.options.handleClick&&(u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,l=S.target;1!=l.nodeType;)l=l.parentNode;"SELECT"!=l.tagName&&"INPUT"!=l.tagName&&"TEXTAREA"!=l.tagName&&(n=t.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,r.view,1,S.screenX,S.screenY,S.clientX,S.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,0,null),n._fake=!0,l.dispatchEvent(n))},u.options.zoom?250:0))),u._resetPos(400),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,r));if(300>x&&u.options.momentum&&(d=g?u._momentum(g-u.startX,x,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):d,b=y?u._momentum(y-u.startY,x,-u.y,u.maxScrollY<0?u.scrollerH-u.wrapperH+u.y-u.minScrollY:0,u.options.bounce?u.wrapperH:0):b,g=u.x+d.dist,y=u.y+b.dist,(u.x>0&&g>0||u.x<u.maxScrollX&&g<u.maxScrollX)&&(d={dist:0,time:0}),(u.y>u.minScrollY&&y>u.minScrollY||u.y<u.maxScrollY&&y<u.maxScrollY)&&(b={dist:0,time:0})),d.dist||b.dist)return p=e.max(e.max(d.time,b.time),10),u.options.snap&&(s=g-u.absStartX,a=y-u.absStartY,e.abs(s)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(m=u._snap(g,y),g=m.x,y=m.y,p=e.max(m.time,p))),u.scrollTo(e.round(g),e.round(y),p),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,r));if(u.options.snap)return s=g-u.absStartX,a=y-u.absStartY,e.abs(s)<u.options.snapThreshold&&e.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(m=u._snap(u.x,u.y),(m.x!=u.x||m.y!=u.y)&&u.scrollTo(m.x,m.y,m.time)),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,r));u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,r)}},_resetPos:function(o){var t=this,r=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,e=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return r==t.x&&e==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==n&&(t.hScrollbarWrapper.style[h]="300ms"),t.hScrollbarWrapper.style.opacity="0"),void(t.vScrollbar&&t.options.hideScrollbar&&("webkit"==n&&(t.vScrollbarWrapper.style[h]="300ms"),t.vScrollbarWrapper.style.opacity="0"))):void t.scrollTo(r,e,o||0)},_wheel:function(o){var t,r,e,l,n,s=this;if("wheelDeltaX"in o)t=o.wheelDeltaX/12,r=o.wheelDeltaY/12;else if("wheelDelta"in o)t=r=o.wheelDelta/12;else{if(!("detail"in o))return;t=r=3*-o.detail}return"zoom"==s.options.wheelAction?(n=s.scale*Math.pow(2,1/3*(r?r/Math.abs(r):0)),n<s.options.zoomMin&&(n=s.options.zoomMin),n>s.options.zoomMax&&(n=s.options.zoomMax),void(n!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,o),s.wheelZoomCount++,s.zoom(o.pageX,o.pageY,n,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,o)},400)))):(e=s.x+t,l=s.y+r,e>0?e=0:e<s.maxScrollX&&(e=s.maxScrollX),l>s.minScrollY?l=s.minScrollY:l<s.maxScrollY&&(l=s.maxScrollY),void(s.maxScrollY<0&&s.scrollTo(e,l,0)))},_transitionEnd:function(o){var t=this;o.target==t.scroller&&(t._unbind(w),t._startAni())},_startAni:function(){var o,t,r,l=this,n=l.x,s=l.y,i=Date.now();if(!l.animating){if(!l.steps.length)return void l._resetPos(400);if(o=l.steps.shift(),o.x==n&&o.y==s&&(o.time=0),l.animating=!0,l.moved=!0,l.options.useTransition)return l._transitionTime(o.time),l._pos(o.x,o.y),l.animating=!1,void(o.time?l._bind(w):l._resetPos(0));r=function(){var a,c,p=Date.now();return p>=i+o.time?(l._pos(o.x,o.y),l.animating=!1,l.options.onAnimationEnd&&l.options.onAnimationEnd.call(l),void l._startAni()):(p=(p-i)/o.time-1,t=e.sqrt(1-p*p),a=(o.x-n)*t+n,c=(o.y-s)*t+s,l._pos(a,c),void(l.animating&&(l.aniTime=_(r))))},r()}},_transitionTime:function(o){o+="ms",this.scroller.style[c]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=o)},_momentum:function(o,t,r,l,n){var s=6e-4,i=e.abs(o)/t,a=i*i/(2*s),c=0,p=0;return o>0&&a>r?(p=n/(6/(a/i*s)),r+=p,i=i*r/a,a=r):0>o&&a>l&&(p=n/(6/(a/i*s)),l+=p,i=i*l/a,a=l),a*=0>o?-1:1,c=i/s,{dist:a,time:e.round(c)}},_offset:function(o){for(var t=-o.offsetLeft,r=-o.offsetTop;o=o.offsetParent;)t-=o.offsetLeft,r-=o.offsetTop;return o!=this.wrapper&&(t*=this.scale,r*=this.scale),{left:t,top:r}},_snap:function(o,t){var r,l,n,s,i,a,c=this;for(n=c.pagesX.length-1,r=0,l=c.pagesX.length;l>r;r++)if(o>=c.pagesX[r]){n=r;break}for(n==c.currPageX&&n>0&&c.dirX<0&&n--,o=c.pagesX[n],i=e.abs(o-c.pagesX[c.currPageX]),i=i?e.abs(c.x-o)/i*500:0,c.currPageX=n,n=c.pagesY.length-1,r=0;n>r;r++)if(t>=c.pagesY[r]){n=r;break}return n==c.currPageY&&n>0&&c.dirY<0&&n--,t=c.pagesY[n],a=e.abs(t-c.pagesY[c.currPageY]),a=a?e.abs(c.y-t)/a*500:0,c.currPageY=n,s=e.round(e.max(i,a))||200,{x:o,y:t,time:s}},_bind:function(o,t,r){(t||this.scroller).addEventListener(o,this,!!r)},_unbind:function(o,t,r){(t||this.scroller).removeEventListener(o,this,!!r)},destroy:function(){var t=this;t.scroller.style[i]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(y,o),t._unbind(v),t._unbind(Y,o),t._unbind(T,o),t._unbind(X,o),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(w),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var o,t,r,l,n=this,s=0,i=0;if(n.scale<n.options.zoomMin&&(n.scale=n.options.zoomMin),n.wrapperW=n.wrapper.clientWidth||1,n.wrapperH=n.wrapper.clientHeight||1,n.minScrollY=-n.options.topOffset||0,n.scrollerW=e.round(n.scroller.offsetWidth*n.scale),n.scrollerH=e.round((n.scroller.offsetHeight+n.minScrollY)*n.scale),n.maxScrollX=n.wrapperW-n.scrollerW,n.maxScrollY=n.wrapperH-n.scrollerH+n.minScrollY,n.dirX=0,n.dirY=0,n.options.onRefresh&&n.options.onRefresh.call(n),n.hScroll=n.options.hScroll&&n.maxScrollX<0,n.vScroll=n.options.vScroll&&(!n.options.bounceLock&&!n.hScroll||n.scrollerH>n.wrapperH),n.hScrollbar=n.hScroll&&n.options.hScrollbar,n.vScrollbar=n.vScroll&&n.options.vScrollbar&&n.scrollerH>n.wrapperH,o=n._offset(n.wrapper),n.wrapperOffsetLeft=-o.left,n.wrapperOffsetTop=-o.top,"string"==typeof n.options.snap)for(n.pagesX=[],n.pagesY=[],l=n.scroller.querySelectorAll(n.options.snap),t=0,r=l.length;r>t;t++)s=n._offset(l[t]),s.left+=n.wrapperOffsetLeft,s.top+=n.wrapperOffsetTop,n.pagesX[t]=s.left<n.maxScrollX?n.maxScrollX:s.left*n.scale,n.pagesY[t]=s.top<n.maxScrollY?n.maxScrollY:s.top*n.scale;else if(n.options.snap){for(n.pagesX=[];s>=n.maxScrollX;)n.pagesX[i]=s,s-=n.wrapperW,i++;for(n.maxScrollX%n.wrapperW&&(n.pagesX[n.pagesX.length]=n.maxScrollX-n.pagesX[n.pagesX.length-1]+n.pagesX[n.pagesX.length-1]),s=0,i=0,n.pagesY=[];s>=n.maxScrollY;)n.pagesY[i]=s,s-=n.wrapperH,i++;n.maxScrollY%n.wrapperH&&(n.pagesY[n.pagesY.length]=n.maxScrollY-n.pagesY[n.pagesY.length-1]+n.pagesY[n.pagesY.length-1])}n._scrollbar("h"),n._scrollbar("v"),n.zoomed||(n.scroller.style[c]="0",n._resetPos(400))},scrollTo:function(o,t,r,e){var l,n,s=this,i=o;for(s.stop(),i.length||(i=[{x:o,y:t,time:r,relative:e}]),l=0,n=i.length;n>l;l++)i[l].relative&&(i[l].x=s.x-i[l].x,i[l].y=s.y-i[l].y),s.steps.push({x:i[l].x,y:i[l].y,time:i[l].time||0});s._startAni()},scrollToElement:function(o,t){var r,l=this;o=o.nodeType?o:l.scroller.querySelector(o),o&&(r=l._offset(o),r.left+=l.wrapperOffsetLeft,r.top+=l.wrapperOffsetTop,r.left=r.left>0?0:r.left<l.maxScrollX?l.maxScrollX:r.left,r.top=r.top>l.minScrollY?l.minScrollY:r.top<l.maxScrollY?l.maxScrollY:r.top,t=void 0===t?e.max(2*e.abs(r.left),2*e.abs(r.top)):t,l.scrollTo(r.left,r.top,t))},scrollToPage:function(o,t,r){var e,l,n=this;r=void 0===r?400:r,n.options.onScrollStart&&n.options.onScrollStart.call(n),n.options.snap?(o="next"==o?n.currPageX+1:"prev"==o?n.currPageX-1:o,t="next"==t?n.currPageY+1:"prev"==t?n.currPageY-1:t,o=0>o?0:o>n.pagesX.length-1?n.pagesX.length-1:o,t=0>t?0:t>n.pagesY.length-1?n.pagesY.length-1:t,n.currPageX=o,n.currPageY=t,e=n.pagesX[o],l=n.pagesY[t]):(e=-n.wrapperW*o,l=-n.wrapperH*t,e<n.maxScrollX&&(e=n.maxScrollX),l<n.maxScrollY&&(l=n.maxScrollY)),n.scrollTo(e,l,r)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(Y,o),this._unbind(T,o),this._unbind(X,o)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(w):z(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,t,r,e){var l=this,n=r/l.scale;l.options.useTransform&&(l.zoomed=!0,e=void 0===e?200:e,o=o-l.wrapperOffsetLeft-l.x,t=t-l.wrapperOffsetTop-l.y,l.x=o-o*n+l.x,l.y=t-t*n+l.y,l.scale=r,l.refresh(),l.x=l.x>0?0:l.x<l.maxScrollX?l.maxScrollX:l.x,l.y=l.y>l.minScrollY?l.minScrollY:l.y<l.maxScrollY?l.maxScrollY:l.y,l.scroller.style[c]=e+"ms",l.scroller.style[i]="translate("+l.x+"px,"+l.y+"px) scale("+r+")"+M,l.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},l=null,"undefined"!=typeof exports?exports.iScroll=E:o.iScroll=E}(window,document);

},{}],2:[function(require,module,exports){
(function (global){
"use strict";var array=require("prime/es5/array"),requestFrame=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.oRequestAnimationFrame||global.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},callbacks=[],iterator=function(e){for(var a=callbacks.splice(0,callbacks.length),r=0,t=a.length;t>r;r++)a[r](e||(e=+new Date))},cancel=function(e){var a=array.indexOf(callbacks,e);a>-1&&callbacks.splice(a,1)},request=function(e){var a=callbacks.push(e);return 1===a&&requestFrame(iterator),function(){cancel(e)}};exports.request=request,exports.cancel=cancel;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"prime/es5/array":3}],3:[function(require,module,exports){
"use strict";for(var array=require("../shell").array,names="pop,push,reverse,shift,sort,splice,unshift,concat,join,slice,toString,indexOf,lastIndexOf,forEach,every,some,filter,map,reduce,reduceRight".split(","),methods={},i=0,name,method;name=names[i++];)(method=Array.prototype[name])&&(methods[name]=method);methods.filter||(methods.filter=function(t,r){for(var e=[],i=0,s=this.length>>>0;s>i;i++)if(i in this){var h=this[i];t.call(r,h,i,this)&&e.push(h)}return e}),methods.indexOf||(methods.indexOf=function(t,r){for(var e=this.length>>>0,i=0>r?Math.max(0,e+r):r||0;e>i;i++)if(i in this&&this[i]===t)return i;return-1}),methods.map||(methods.map=function(t,r){for(var e=this.length>>>0,i=Array(e),s=0,h=e;h>s;s++)s in this&&(i[s]=t.call(r,this[s],s,this));return i}),methods.every||(methods.every=function(t,r){for(var e=0,i=this.length>>>0;i>e;e++)if(e in this&&!t.call(r,this[e],e,this))return!1;return!0}),methods.some||(methods.some=function(t,r){for(var e=0,i=this.length>>>0;i>e;e++)if(e in this&&t.call(r,this[e],e,this))return!0;return!1}),methods.forEach||(methods.forEach=function(t,r){for(var e=0,i=this.length>>>0;i>e;e++)e in this&&t.call(r,this[e],e,this)});var toString=Object.prototype.toString;array.isArray=Array.isArray||function(t){return"[object Array]"===toString.call(t)},module.exports=array.implement(methods);

},{"../shell":5}],4:[function(require,module,exports){
"use strict";var has=function(e,r){return Object.hasOwnProperty.call(e,r)},each=function(e,r,t){for(var n in e)if(r.call(t,e[n],n,e)===!1)break;return e};if(!{valueOf:0}.propertyIsEnumerable("valueOf")){var buggy="constructor,toString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString".split(","),proto=Object.prototype;each=function(e,r,t){for(var n in e)if(r.call(t,e[n],n,e)===!1)return e;for(var o=0;n=buggy[o];o++){var i=e[n];if((i!==proto[n]||has(e,n))&&r.call(t,i,n,e)===!1)break}return e}}var create=Object.create||function(e){var r=function(){};return r.prototype=e,new r},getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,define=Object.defineProperty;try{var obj={a:1};getOwnPropertyDescriptor(obj,"a"),define(obj,"a",{value:2})}catch(e){getOwnPropertyDescriptor=function(e,r){return{value:e[r]}},define=function(e,r,t){return e[r]=t.value,e}}var implement=function(e){return each(e,function(r,t){"constructor"!==t&&"define"!==t&&"inherits"!==t&&this.define(t,getOwnPropertyDescriptor(e,t)||{writable:!0,enumerable:!0,configurable:!0,value:r})},this),this},prime=function(e){var r=e.inherits,t=has(e,"constructor")?e.constructor:r?function(){return r.apply(this,arguments)}:function(){};if(r){var n=r.prototype,o=t.prototype=create(n);t.parent=n,o.constructor=t}return t.define=e.define||r&&r.define||function(e,r){return define(this.prototype,e,r),this},t.implement=implement,t.implement(e)};prime.has=has,prime.each=each,prime.create=create,prime.define=define,module.exports=prime;

},{}],5:[function(require,module,exports){
"use strict";for(var prime=require("./index"),type=require("./type"),slice=Array.prototype.slice,ghost=prime({constructor:function(e){this.valueOf=function(){return e},this.toString=function(){return e+""},this.is=function(t){return e===t}}}),shell=function(e){if(null==e||e instanceof ghost)return e;var t=shell[type(e)];return t?new t(e):e},register=function(){var e=prime({inherits:ghost});return prime({constructor:function(t){return new e(t)},define:function(t,r){var n=r.value;return this[t]=function(e){return arguments.length>1?n.apply(e,slice.call(arguments,1)):n.call(e)},e.prototype[t]=function(){return shell(n.apply(this.valueOf(),arguments))},prime.define(this.prototype,t,r),this}})},types="string,number,array,object,date,function,regexp".split(","),i=types.length;i--;)shell[types[i]]=register();module.exports=shell;

},{"./index":4,"./type":6}],6:[function(require,module,exports){
"use strict";var toString=Object.prototype.toString,types=/number|object|array|string|function|date|regexp|boolean/,type=function(t){if(null==t)return"null";var e=toString.call(t).slice(8,-1).toLowerCase();return"number"===e&&isNaN(t)?"null":types.test(e)?e:"object"};module.exports=type;

},{}],7:[function(require,module,exports){
"use strict";moobile.Animation=new Class({Extends:moobile.Firer,__name:null,__running:!1,element:null,animationClass:null,animationProperties:{name:null,duration:null,"iteration-count":null,"animation-direction":null,"animation-timing-function":null,"animation-fill-mode":null,"animation-delay":null},options:{validate:null},initialize:function(n,t){return this.setElement(n),this.setOptions(t),this},setName:function(n){return this.__name=n,this},getName:function(){return this.__name},setElement:function(n){return this.element=document.id(n),this},getElement:function(){return this.element},setAnimationClass:function(n){return this.animationClass=n,this},getAnimationClass:function(){return this.animationClass},setAnimationName:function(n){return this.animationProperties.name=n,this},getAnimationName:function(){return this.animationProperties.name},setAnimationDuration:function(n){return this.animationProperties.duration=n,this},getAnimationDuration:function(){return this.animationProperties.duration},setAnimationIterationCount:function(n){return this.animationProperties["iteration-count"]=n,this},getAnimationIterationCount:function(){return this.animationProperties["iteration-count"]},setAnimationDirection:function(n){return this.animationProperties.direction=n,this},getAnimationDirection:function(){return this.animationProperties.direction},setAnimationTimingFunction:function(n){return this.animationProperties["timing-function"]=n,this},getAnimationTimingFunction:function(){return this.animationProperties["timing-function"]},setAnimationFillMode:function(n){return this.animationProperties["fill-mode"]=n,this},getAnimationFillMode:function(){return this.animationProperties["fill-mode"]},setAnimationDelay:function(n){return this.animationProperties.delay=n,this},getAnimationDelay:function(){return this.animationProperties.delay},attach:function(){return this.element.addEvent("ownanimationend",this.bound("__onAnimationEnd")),this.element.addClass(this.animationClass),Object.each(this.animationProperties,function(n,t){this.element.setStyle("animation-"+t,n)},this),this},detach:function(){return this.element.removeEvent("ownanimationend",this.bound("__onAnimationEnd")),this.element.removeClass(this.animationClass),Object.each(this.animationProperties,function(n,t){this.element.setStyle("animation-"+t,null)},this),this},start:function(){return this.__running?this:(this.__running=!0,this.attach(),this.fireEvent("start"),this)},stop:function(){return this.__running===!1?this:(this.__running=!1,this.detach(),this.fireEvent("stop"),this)},isRunning:function(){return this.__running},__onAnimationEnd:function(n){if(this.__running!==!1){var t=!0,i=this.options.validate;t=i?i(n,this.element):n.target===this.element,t&&(n.stop(),this.__running=!1,this.fireEvent("end"),this.detach())}}});

},{}],8:[function(require,module,exports){
"use strict";var updateLayoutTime=null,updateLayoutRoot=null,Component=moobile.Component=new Class({Extends:moobile.Firer,__name:null,__ready:!1,__window:null,__parent:null,__children:[],__display:!0,__visible:!0,__visibleAnimation:null,__style:null,__listeners:{},__callbacks:{},__size:{x:0,y:0},__updateLayout:!1,element:null,options:{className:null,styleName:null,tagName:"div",components:null},initialize:function(t,e,n){this.setElement(t),this.setOptions(e),this.__name=n||this.element.get("data-name");var i=this.element,o=document.contains(this.element);return o&&(this.element=this.element.clone(!0,!0)),this.__willBuild(),this.__build(),this.__didBuild(),o&&this.element.replaces(i),this},destroy:function(){return this.removeEvents(),this.removeFromParentComponent(),this.removeAllChildComponents(!0),this.element.destroy(),this.element=null,this.__window=null,this.__parent=null,this.__children=null,this.__callbacks=null,this.__listeners=null,this},setElement:function(t){return this.element&&(this.element.destroy(),this.element=null),this.element=Element.from(t),null===this.element&&(this.element=document.createElement(this.options.tagName)),this.element.store("moobile:component",this),this},setOptions:function(t){t=t||{};for(var e in this.options)if(void 0===t[e]){var n=this.element.get("data-option-"+e.hyphenate());if(null!==n){try{n=JSON.parse(n)}catch(i){}t[e]=n}}return this.parent(t)},addEvent:function(t,e,n){var i=t.split(":")[0];if(this.supportNativeEvent(i)){var o=this,s=this.__listeners,h=this.__callbacks;void 0===h[i]&&(h[i]=[],s[i]=function(t){o.fireEvent(i,t)}),h[i].include(e),1===h[i].length&&this.element.addEvent(i,s[i])}return this.parent(t,e,n)},removeEvent:function(t,e){if(this.supportNativeEvent(t)){var n=this.__listeners,i=this.__callbacks;i[t]&&i[t].contains(e)&&(i[t].erase(e),0===i[t].length&&(this.element.removeEvent(t,n[t]),delete n[t],delete i[t]))}return this.parent(t,e)},supportNativeEvent:function(t){return["click","dblclick","mouseup","mousedown","mouseover","mouseout","mousemove","keydown","keypress","keyup","touchstart","touchmove","touchend","touchcancel","gesturestart","gesturechange","gestureend","tap","tapstart","tapmove","tapend","tapcancel","pinch","swipe","touchold","animationend","transitionend","owntransitionend","ownanimationend"].contains(t)},addChildComponent:function(t,e,n){t.removeFromParentComponent(),n=n?document.id(n)||this.element.getElement(n):this.element,this.__willAddChildComponent(t);var i=document.id(t);return(e||!this.hasElement(i))&&i.inject(n,e),setComponentIndex.call(this,t),t.__setParent(this),t.__setWindow(this.__window),this.__didAddChildComponent(t),this.updateLayout(),this},addChildComponentInside:function(t,e,n){return this.addChildComponent(t,n,document.id(e)||this.getElement(e))},addChildComponentAfter:function(t,e){return this.addChildComponent(t,"after",e)},addChildComponentBefore:function(t,e){return this.addChildComponent(t,"before",e)},addChildComponentAt:function(t,e){var n=this.__children;e>n.length?e=n.length:0>e&&(e=0);var i=this.getChildComponentAt(e);return i?this.addChildComponentBefore(t,i):this.addChildComponent(t,"bottom")},getChildComponent:function(t){return this.__children.find(function(e){return e.getName()===t})},getChildComponentByType:function(t,e){return this.__children.find(function(n){return n instanceof t&&n.getName()===e})},getChildComponentAt:function(t){return this.__children[t]||null},getChildComponentByTypeAt:function(t,e){return this.getChildComponentsByType(t)[e]||null},getChildComponentIndex:function(t){return this.__children.indexOf(t)},getChildComponents:function(){return this.__children},getChildComponentsByType:function(t){return this.__children.filter(function(e){return e instanceof t})},hasChildComponent:function(t){return this.__children.contains(t)},hasChildComponentByType:function(t){return this.__children.some(function(e){return e instanceof t})},getComponent:function(t){var e=this.getChildComponent(t);if(null===e)for(var n=0,i=this.__children.length;i>n;n++){var o=this.__children[n].getComponent(t);if(o)return o}return e},getComponentByType:function(t,e){var n=this.getChildComponentByType(t,e);if(null===n)for(var i=0,o=this.__children.length;o>i;i++){var s=this.__children[i].getComponentByType(t,e);if(s)return s}return n},hasComponent:function(t){var e=this.hasChildComponent(t);if(e===!1)for(var n=0,i=this.__children.length;i>n;n++){var o=this.__children[n].hasComponent(t);if(o)return o}return e},hasComponentByType:function(t,e){var n=this.hasChildComponentByType(t,e);if(n===!1)for(var i=0,o=this.__children.length;o>i;i++){var s=this.__children[i].hasComponentByType(t,e);if(s)return s}return n},replaceChildComponent:function(t,e,n){return this.addChildComponentBefore(e,t).removeChildComponent(t,n)},replaceWithComponent:function(t,e){var n=this.getParentComponent();return n&&n.replaceChildComponent(this,t,e),this},removeChildComponent:function(t,e){if(this.hasChildComponent(t)===!1)return this;this.__willRemoveChildComponent(t);var n=t.getElement();return n&&n.dispose(),this.__children.erase(t),t.__setParent(null),t.__setWindow(null),this.__didRemoveChildComponent(t),e&&t.destroy(),this.updateLayout(),this},removeAllChildComponents:function(t){return this.removeAllChildComponentsByType(Component,t)},removeAllChildComponentsByType:function(t,e){return this.__children.filter(function(e){return e instanceof t}).invoke("removeFromParentComponent",e),this},removeFromParentComponent:function(t){var e=this.getParentComponent();return e&&e.removeChildComponent(this,t),this},setParentComponent:function(t){this.__setParent(t)},getParentComponent:function(){return this.__parent},hasParentComponent:function(){return!!this.__parent},setWindow:function(t){this.__setWindow(t),this.getChildComponents().each(function(e){e.setWindow(t)},this)},getWindow:function(){return this.__window},hasWindow:function(){return!!this.__window},isReady:function(){return this.__ready},getName:function(){return this.__name},setStyle:function(t){if(2===arguments.length)return this.element.setStyle(arguments[0],arguments[1]),this.updateLayout();this.__style&&(this.__style.detach.call(this,this.element),this.__style=null);var e=Component.getStyle(t,this);return e&&e.attach.call(this,this.element),this.__style=e,this.updateLayout()},getStyle:function(){return 1===arguments.length?this.element.getStyle(arguments[0]):this.__style&&this.__style.name||null},hasStyle:function(t){return this.__style?this.__style.name===t:!1},addClass:function(t){var e=this.element;return e.hasClass(t)===!1&&(e.addClass(t),this.updateLayout()),this},removeClass:function(t){var e=this.element;return e.hasClass(t)===!0&&(e.removeClass(t),this.updateLayout()),this},toggleClass:function(t,e){return this.element.toggleClass(t,e),this.updateLayout(),this},hasClass:function(t){return this.element.hasClass(t)},getElements:function(t){return this.element.getElements(t||"*")},getElement:function(t){return t?this.element.getElement(t):this.element},hasElement:function(t){return this.element===document.id(t)||this.element.contains(document.id(t))},getRoleElement:function(t){return this.getRoleElements(t,1)[0]||null},getRoleElements:function(t,e){var n=this.__roles__,i=[],o=function(s){if(!(e&&e<=i.length))for(var h=s.childNodes,l=0,a=h.length;a>l;l++){var d=h[l];if(1===d.nodeType){var r=d.getRole();if(null!==r){var u=n[r];u&&(t!==r&&t||i.push(d),u.options.traversable)&&o(d)}else o(d)}}};return o(this.element),i},setSize:function(t,e){return(t>0||null===t)&&this.element.setStyle("width",t),(e>0||null===e)&&this.element.setStyle("height",e),(this.__size.x!==t||this.__size.y!==e)&&this.updateLayout(),this.__size.x=t,this.__size.y=e,this},getSize:function(){return this.element.getSize()},getPosition:function(t){return this.element.getPosition(document.id(t)||this.__parent)},show:function(t){return this.__display===!0||this.__visible===!0?this:(this.__visibleAnimation&&(this.__visibleAnimation.stop(),this.__visibleAnimation.removeEvents()),t?("string"==typeof t&&(t=new moobile.Animation(this.element).setAnimationClass(t)),this.__visibleAnimation=t,this.__visibleAnimation.addEvent("start",this.bound("__willShow")),this.__visibleAnimation.addEvent("end",this.bound("__didShow")),this.__visibleAnimation.start()):(this.__willShow(),this.__didShow()),this)},hide:function(t){return this.__display===!1?this:(this.__visibleAnimation&&(this.__visibleAnimation.stop(),this.__visibleAnimation.removeEvents()),t&&this.__visible?("string"==typeof t&&(t=new moobile.Animation(this.element).setAnimationClass(t)),this.__visibleAnimation=t,this.__visibleAnimation.addEvent("start",this.bound("__willHide")),this.__visibleAnimation.addEvent("end",this.bound("__didHide")),this.__visibleAnimation.start()):(this.__willHide(),this.__didHide()),this)},isVisible:function(){return this.__display&&this.__visible},updateLayout:function(t){if(t=t===!1?!1:!0,this.__updateLayout===t)return this;if(this.__updateLayout=t,t){var e=this.getParentComponent();if(e&&e.__updateLayout)return this;if(this instanceof moobile.Window)return null===updateLayoutTime&&(updateLayoutTime=requestAnimationFrame(triggerLayoutUpdate)),updateLayoutRoot=this,this;if(this.hasWindow()===!1)return this;if(null===updateLayoutTime&&(updateLayoutTime=requestAnimationFrame(triggerLayoutUpdate)),null===updateLayoutRoot)return updateLayoutRoot=this,this;for(var e=this.getParentComponent();e;){if(e===updateLayoutRoot)return this;e=e.getParentComponent()}updateLayoutRoot=this}return this},cascade:function(t){return t.call(this,this),this.__children.invoke("cascade",t),this},willBuild:function(){},didBuild:function(){},willChangeReadyState:function(t){},didChangeReadyState:function(t){},didBecomeReady:function(){},didUpdateLayout:function(){},willAddChildComponent:function(t){},didAddChildComponent:function(t){},willRemoveChildComponent:function(t){},didRemoveChildComponent:function(t){},parentComponentWillChange:function(t){},parentComponentDidChange:function(t){},windowWillChange:function(t){},windowDidChange:function(t){},willShow:function(){},willHide:function(){},didShow:function(){},didHide:function(){},toElement:function(){return this.element},__setParent:function(t){return this.__parent===t?this:(this.__parentComponentWillChange(t),this.__parent=t,this.__parentComponentDidChange(t),this)},__setWindow:function(t){if(this.__window===t)return this;this.cascade(function(){this.__window!==t&&(this.__windowWillChange(t),this.__window=t,this.__windowDidChange(t))});var e=!!t;return this.cascade(function(){this.__ready!==e&&(this.__willChangeReadyState(e),this.__ready=e,this.__didChangeReadyState(e),e&&this.__didBecomeReady())}),this},__build:function(){var t=this,e=this.__roles__,n=this.__attributes__;for(var i in n){var o=this.element.get(i);if(null!==o){var s=n[i];s instanceof Function&&s.call(this,o)}}var h=this.options.className;h&&this.addClass(h);var l=this.options.styleName;l&&this.setStyle(l),this.getRoleElements().each(function(n){var i=e[n.getRole()].handler;"function"==typeof i&&i.call(t,n)})},__willBuild:function(){this.willBuild()},__didBuild:function(){var t=this.options.components;t&&this.addChildComponents(t),this.didBuild()},__willAddChildComponent:function(t){this.willAddChildComponent(t),this.fireEvent("willaddchildcomponent",t)},__didAddChildComponent:function(t){this.didAddChildComponent(t),this.fireEvent("didaddchildcomponent",t)},__willRemoveChildComponent:function(t){this.willRemoveChildComponent(t),this.fireEvent("willremovechildcomponent",t)},__didRemoveChildComponent:function(t){this.didRemoveChildComponent(t),this.fireEvent("didremovechildcomponent",t)},__parentComponentWillChange:function(t){this.parentComponentWillChange(t),this.fireEvent("parentcomponentwillchange",t)},__parentComponentDidChange:function(t){this.parentComponentDidChange(t),this.fireEvent("parentcomponentdidchange",t)},__windowWillChange:function(t){this.windowWillChange(t),this.fireEvent("windowwillchange",t)},__windowDidChange:function(t){this.windowDidChange(t),this.fireEvent("windowdidchange",t)},__willChangeReadyState:function(t){this.willChangeReadyState(t),this.fireEvent("willchangereadystate",t)},__didChangeReadyState:function(t){this.didChangeReadyState(t),this.fireEvent("didchangereadystate",t)},__didBecomeReady:function(){this.didBecomeReady(),this.fireEvent("didbecomeready")},__didUpdateLayout:function(){this.__updateLayout&&(this.__updateLayout=!1,this.didUpdateLayout(),this.fireEvent("didupdatelayout"))},__willShow:function(){var t=this.__parent?this.__parent.isVisible():this instanceof moobile.Window;if(t){this.willShow();var e=this;this.cascade(function(){this!==e&&this.__display===!0&&this.__visible===!1&&this.willShow()})}this.removeClass("hidden")},__didShow:function(){var t=this.__parent?this.__parent.isVisible():this instanceof moobile.Window;if(this.__display=!0,this.__visible=t,t){this.didShow();var e=this;this.cascade(function(){this!==e&&this.__display===!0&&this.__visible===!1&&(this.__visible=!0,this.__updateLayout=!0,this.didShow())}),this.updateLayout()}},__willHide:function(){var t=this.__parent?this.__parent.isVisible():this instanceof moobile.Window;if(t){this.willHide();var e=this;this.cascade(function(){this!==e&&this.__visible===!0&&this.__display===!0&&this.willHide()})}this.addClass("hidden"),this.__display=!1,this.__visible=!1},__didHide:function(){var t=this.__parent?this.__parent.isVisible():this instanceof moobile.Window;if(t){this.didHide();var e=this;this.cascade(function(){this!==e&&this.__display===!0&&this.__visible===!0&&(this.__visible=!1,this.didHide())}),this.fireEvent("hide")}},getChildComponentOfType:function(t,e){return this.getChildComponentByType(t,e)},getChildComponentOfTypeAt:function(t,e){return this.getChildComponentByTypeAt(t,e)},getChildComponentsOfType:function(t){return this.getChildComponentsByType(t)},hasChildComponentOfType:function(t){return this.hasChildComponentByType(t)},getDescendantComponent:function(t){return this.getComponent(t)},getComponentOfType:function(t,e){return this.getComponentByType(t,e)},hasComponentOfType:function(t,e){return this.hasComponentByType(t,e)}});Component.defineRole=function(t,e,n,i){if(e=(e||Component).prototype,void 0===e.__roles__&&(e.__roles__={}),n)switch(typeof n){case"function":i=n,n={};break;case"object":"function"==typeof n.behavior&&(i=n.behavior)}e.__roles__[t]={handler:i||function(){},options:n||{}}},Component.defineAttribute=function(t,e,n){e=(e||Component).prototype,void 0===e.__attributes__&&(e.__attributes__={}),e.__attributes__[t]=n},Component.defineStyle=function(t,e,n){var i=(e||Component).prototype;void 0===i.__styles__&&(i.__styles__={}),i.__styles__[t]=Object.append({name:t,attach:function(){},detach:function(){}},n)},Component.getStyle=function(t,e){return e.__styles__?e.__styles__[t]:null},Component.create=function(t,e,n,i,o){if(e=Element.from(e),n){var s=e.get(n);if(s){var h=Class.instantiate(s,e,i,o);if(h instanceof t)return h}}return new t(e,i,o)},Component.defineAttribute("data-style",null,function(t){this.options.styleName=t});var setComponentIndex=function(t){var e=0,n=document.id(t);do{var i=n.previousSibling;if(null!==i){if(n=i,1===n.nodeType){var o=n.retrieve("moobile:component");if(o){e=this.getChildComponentIndex(o)+1;break}var s=n.childNodes;if(s.length){var h=getComponentIndex.call(this,n);if(null!==h){e=h;break}}}}else if(n=n.parentNode,n===this.element)break}while(n);return this.__children.splice(e,0,t),this},getComponentIndex=function(t){var e=t.lastChild;do if(1===e.nodeType){var n=e.retrieve("moobile:component");if(n)return this.getChildComponentIndex(n)+1;var i=e.childNodes;if(i.length){var o=getComponentIndex.call(this,e);if(o>=0)return o}e=e.previousSibling}else if(e=e.previousSibling,null===e)return 0;while(e);return null},triggerLayoutUpdate=function(){updateLayoutRoot&&(updateLayoutRoot.cascade(function(){this.__didUpdateLayout()}),updateLayoutRoot=null,updateLayoutTime=null)};

},{}],9:[function(require,module,exports){
"use strict";var Overlay=moobile.Overlay=new Class({Extends:moobile.Component,willBuild:function(){this.parent(),this.addClass("overlay"),this.addEvent("animationend",this.bound("__onAnimationEnd"))},destroy:function(){this.removeEvent("animationend",this.bound("__onAnimationEnd")),this.parent()},didBuild:function(){this.parent(),this.hide()},showAnimated:function(){return this.willShow(),this.addClass("show-animated").removeClass("hidden"),this},hideAnimated:function(){return this.willHide(),this.element.addClass("hide-animated"),this},__onAnimationEnd:function(i){i.stop(),this.hasClass("show-animated")&&this.removeClass("show-animated"),this.hasClass("hide-animated")&&(this.removeClass("hide-animated"),this.hide())}});

},{}],10:[function(require,module,exports){
"use strict";var ActivityIndicator=moobile.ActivityIndicator=new Class({Extends:moobile.Control,willBuild:function(){this.parent(),this.addClass("activity-indicator")},start:function(){return this.addClass("active")},stop:function(){return this.removeClass("active")}});moobile.Component.defineRole("activity-indicator",null,null,function(t){this.addChildComponent(moobile.Component.create(ActivityIndicator,t,"data-activity-indicator"))});

},{}],11:[function(require,module,exports){
"use strict";var Bar=moobile.Bar=new Class({Extends:moobile.Control,willBuild:function(){this.parent(),this.addClass("bar")}});moobile.Component.defineRole("bar",null,null,function(e){this.addChildComponent(moobile.Component.create(Bar,e,"data-bar"))}),moobile.Component.defineStyle("dark",Bar,{attach:function(e){e.addClass("style-dark")},detach:function(e){e.removeClass("style-dark")}}),moobile.Component.defineStyle("light",Bar,{attach:function(e){e.addClass("style-light")},detach:function(e){e.removeClass("style-light")}});

},{}],12:[function(require,module,exports){
"use strict";var ButtonGroup=moobile.ButtonGroup=new Class({Extends:moobile.Control,__selectedButton:null,__selectedButtonIndex:-1,options:{layout:"horizontal",buttons:null,selectable:!0,selectedButtonIndex:-1},willBuild:function(){this.parent(),this.addClass("button-group");var t=this.options.layout;t&&this.addClass("button-group-layout-"+t)},didBuild:function(){this.parent(),this.setSelectable(this.options.selectable),this.setSelectedButtonIndex(this.options.selectedButtonIndex);var t=this.options.buttons;t&&this.addButtons(t)},destroy:function(){this.__selectedButton=null,this.__selectedButtonIndex=-1,this.parent()},setSelectedButton:function(t){return this.__selectable===!1?this:this.__selectedButton===t?this:(this.__selectedButton&&(this.__selectedButton.setSelected(!1),this.fireEvent("deselect",this.__selectedButton),this.__selectedButton=null),this.__selectedButtonIndex=t?this.getChildComponentIndex(t):-1,t&&(this.__selectedButton=t,this.__selectedButton.setSelected(!0),this.fireEvent("select",this.__selectedButton)),this)},getSelectedButton:function(){return this.__selectedButton},setSelectedButtonIndex:function(t){var e=null;return t>=0&&(e=this.getChildComponentByTypeAt(moobile.Button,t)),this.setSelectedButton(e)},getSelectedButtonIndex:function(){return this.__selectedButtonIndex},clearSelectedButton:function(){return this.setSelectedButton(null),this},addButton:function(t,e){return this.addChildComponent(moobile.Button.from(t),e)},addButtonAfter:function(t,e){return this.addChildComponentAfter(moobile.Button.from(t),e)},addButtonBefore:function(t,e){return this.addChildComponentBefore(moobile.Button.from(t),e)},addButtons:function(t,e){return this.addChildComponents(t.map(function(t){return moobile.Button.from(t)}),e)},addButtonsAfter:function(t,e){return this.addChildComponentsAfter(t.map(function(t){return moobile.Button.from(t)}),e)},addButtonsBefore:function(t,e){return this.addChildComponentsBefore(t.map(function(t){return moobile.Button.from(t)}),e)},getButtons:function(){return this.getChildComponentsByType(moobile.Button)},getButton:function(t){return this.getChildComponentByType(moobile.Button,t)},getButtonAt:function(t){return this.getChildComponentByTypeAt(moobile.Button,t)},removeButton:function(t,e){return this.removeChildComponent(t,e)},removeAllButtons:function(t){return this.removeAllChildComponentsByType(moobile.Button,t)},setSelectable:function(t){return this.__selectable=t,this},isSelectable:function(){return this.__selectable},willRemoveChildComponent:function(t){this.parent(t),this.__selectedButton===t&&this.clearSelectedButton()},didAddChildComponent:function(t){this.parent(t),t instanceof moobile.Button&&t.addEvent("tap",this.bound("onButtonTap"))},didRemoveChildComponent:function(t){this.parent(t),t instanceof moobile.Button&&t.removeEvent("tap",this.bound("onButtonTap"))},didChangeState:function(t){this.parent(t),("disabled"===t||null==t)&&this.getChildComponents().invoke("setDisabled",t)},onButtonTap:function(t,e){this.setSelectedButton(e)}});moobile.Component.defineRole("button-group",null,function(t){this.addChildComponent(moobile.Component.create(ButtonGroup,t,"data-button-group"))});

},{}],13:[function(require,module,exports){
"use strict";var Button=moobile.Button=new Class({Extends:moobile.Control,__label:null,hitAreaElement:null,options:{label:null},willBuild:function(){this.parent(),this.addClass("button");var t=this.getRoleElement("label");null===t&&(t=document.createElement("div"),t.ingest(this.element),t.inject(this.element),t.setRole("label")),this.addEvent("tapcancel",this.bound("__onTapCancel")),this.addEvent("tapstart",this.bound("__onTapStart")),this.addEvent("tapend",this.bound("__onTapEnd"))},didBuild:function(){this.parent(),this.hitAreaElement=new Element("div.hit-area"),this.hitAreaElement.inject(this.element);var t=this.options.label;t&&this.setLabel(t)},destroy:function(){this.removeEvent("tapcancel",this.bound("__onTapCancel")),this.removeEvent("tapstart",this.bound("__onTapStart")),this.removeEvent("tapend",this.bound("__onTapEnd")),this.label=null,this.parent()},setLabel:function(t){return this.__label===t?this:(t=moobile.Text.from(t),this.__label?this.__label.replaceWithComponent(t,!0):this.addChildComponent(t),this.__label=t,this.__label.addClass("button-label"),this.toggleClass("button-label-empty",this.__label.isEmpty()),this)},getLabel:function(){return this.__label},__onTapCancel:function(t){this.isSelected()&&this.setHighlighted(!1)},__onTapStart:function(t){this.isSelected()||this.setHighlighted(!0)},__onTapEnd:function(t){this.isSelected()||this.setHighlighted(!1)}});Button.from=function(t){if(t instanceof Button)return t;var e=new Button;return e.setLabel(t),e},moobile.Component.defineRole("button",null,null,function(t){this.addChildComponent(moobile.Component.create(Button,t,"data-button"))}),moobile.Component.defineRole("label",Button,null,function(t){this.setLabel(moobile.Component.create(moobile.Text,t,"data-label"))}),moobile.Component.defineStyle("active",Button,{attach:function(t){t.addClass("style-active")},detach:function(t){t.removeClass("style-active")}}),moobile.Component.defineStyle("warning",Button,{attach:function(t){t.addClass("style-warning")},detach:function(t){t.removeClass("style-warning")}}),moobile.Component.defineStyle("back",Button,{attach:function(t){t.addClass("style-back")},detach:function(t){t.removeClass("style-back")}}),moobile.Component.defineStyle("forward",Button,{attach:function(t){t.addClass("style-forward")},detach:function(t){t.removeClass("style-forward")}});

},{}],14:[function(require,module,exports){
"use strict";var Control=moobile.Control=new Class({Extends:moobile.Component,__state:null,options:{className:null,styleName:null},setDisabled:function(t){return this.__setState(t!==!1?"disabled":null)},isDisabled:function(){return"disabled"==this._getState()},setSelected:function(t){return this.__setState(t!==!1?"selected":null)},isSelected:function(){return"selected"==this._getState()},setHighlighted:function(t){return this.__setState(t!==!1?"highlighted":null)},isHighlighted:function(){return"highlighted"==this._getState()},willChangeState:function(t){},didChangeState:function(t){},shouldAllowState:function(t){return["highlighted","selected","disabled"].contains(t)},shouldFireEvent:function(t,e){return!this.isDisabled()},__setState:function(t,e){return this.__state===t?this:((this.shouldAllowState(t)||null==t)&&(this.willChangeState(t),this.__state&&this.removeClass("is-"+this.__state),this.__state=t,this.__state&&this.addClass("is-"+this.__state),this.didChangeState(t)),this)},_getState:function(){return this.__state}});

},{}],15:[function(require,module,exports){
"use strict";var Image=moobile.Image=new Class({Extends:moobile.Control,__image:null,__source:null,__loaded:!1,__originalSize:{x:0,y:0},options:{tagName:"img",preload:!1,source:null},willBuild:function(){this.parent(),this.hide(),this.addClass("image")},didBuild:function(){this.parent();var i=this.options.source||this.element.get("src");i&&this.setSource(i)},destroy:function(){this.__image&&(this.__image.removeEvent("load",this.bound("__onLoad")),this.__image.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",this.__image=null),this.element.set("src","data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),this.parent()},setSource:function(i,e){return e&&window.matchMedia&&window.matchMedia(e).matches===!1?this:(this.__source=i||"",this.__image&&(this.__image.removeEvent("load",this.bound("__onLoad")),this.__image=null),i?this.options.preload?(this.__loaded=!1,this.__image=new Image,this.__image.src=i,this.__image.addEvent("load",this.bound("__onLoad"))):this.__load():this.__unload(),this)},getSource:function(){return this.__source},getImage:function(){return this.__image},getOriginalSize:function(){return this.__originalSize},isLoaded:function(){return this.__loaded},isEmpty:function(){return!this.getSource()},show:function(){return this.isEmpty()?this:this.parent()},__load:function(){this.__loaded=!0,this.options.preload&&(this.__originalSize.x=this.__image.width,this.__originalSize.y=this.__image.height),this.element.set("src",this.__source),this.show()},__unload:function(){this.__loaded=!1,this.options.preload&&(this.__originalSize.x=0,this.__originalSize.y=0),this.element.erase("src"),this.fireEvent("unload"),this.hide()},__onLoad:function(){this.fireEvent("preload"),this.__load()}});Image.from=function(i){if(i instanceof Image)return i;var e=new Image;return e.setSource(i),e},moobile.Component.defineRole("image",null,null,function(i){this.addChildComponent(moobile.Component.create(Image,i,"data-image"))});

},{}],16:[function(require,module,exports){
"use strict";var ListItem=moobile.ListItem=new Class({Extends:moobile.Control,__image:null,__label:null,__detail:null,options:{tagName:"li",image:null,label:null,detail:null},willBuild:function(){this.parent(),this.addClass("list-item");var e=this.getRoleElement("image"),t=this.getRoleElement("label"),i=this.getRoleElement("detail");null===t&&(t=document.createElement("div"),t.ingest(this.element),t.inject(this.element),t.setRole("label")),null===e&&(e=document.createElement("img"),e.inject(this.element,"top"),e.setRole("image")),null===i&&(i=document.createElement("div"),i.inject(this.element),i.setRole("detail"))},didBuild:function(){this.parent();var e=this.options.image,t=this.options.label,i=this.options.detail;e&&this.setImage(e),t&&this.setLabel(t),i&&this.setDetail(i)},destroy:function(){this.__label=null,this.__image=null,this.__detail=null,this.parent()},setLabel:function(e){return this.__label===e?this:(e=moobile.Text.from(e),this.__label?this.__label.replaceWithComponent(e,!0):this.addChildComponent(e),this.__label=e,this.__label.addClass("list-item-label"),this.toggleClass("list-item-label-empty",this.__label.isEmpty()),this)},getLabel:function(){return this.__label},setImage:function(e){return this.__image===e?this:(e=moobile.Image.from(e),this.__image?this.__image.replaceWithComponent(e,!0):this.addChildComponent(e),this.__image=e,this.__image.addClass("list-item-image"),this.toggleClass("list-item-image-empty",this.__image.isEmpty()),this)},getImage:function(){return this.__image},setDetail:function(e){return this.__detail===e?this:(e=moobile.Text.from(e),this.__detail?this.__detail.replaceWithComponent(e,!0):this.addChildComponent(e),this.__detail=e,this.__detail.addClass("list-item-detail"),this.toggleClass("list-item-detail-empty",this.__detail.isEmpty()),this)},getDetail:function(){return this.__detail},shouldAllowState:function(e){return!this.hasStyle("header")||"highlighted"!==e&&"selected"!==e&&"disabled"!==e?this.parent(e):!1}});moobile.ListItem.from=function(e){if(e instanceof moobile.ListItem)return e;var t=new moobile.ListItem;return t.setLabel(e),t},moobile.Component.defineRole("item",moobile.List,null,function(e){this.addItem(moobile.Component.create(moobile.ListItem,e,"data-item"))}),moobile.Component.defineRole("header",moobile.List,null,function(e){this.addItem(moobile.Component.create(moobile.ListItem,e,"data-item").setStyle("header"))}),moobile.Component.defineRole("image",moobile.ListItem,null,function(e){this.setImage(moobile.Component.create(moobile.Image,e,"data-image"))}),moobile.Component.defineRole("label",moobile.ListItem,null,function(e){this.setLabel(moobile.Component.create(moobile.Text,e,"data-label"))}),moobile.Component.defineRole("detail",moobile.ListItem,null,function(e){this.setDetail(moobile.Component.create(moobile.Text,e,"data-detail"))}),moobile.Component.defineRole("list-item",moobile.List,null,function(e){console.log('[DEPRECATION NOTICE] The role "list-item" will be removed in 0.4, use the role "item" instead'),this.addItem(moobile.Component.create(moobile.ListItem,e,"data-list-item"))}),moobile.Component.defineStyle("header",moobile.ListItem,{attach:function(e){e.addClass("style-header")},detach:function(e){e.removeClass("style-header")}}),moobile.Component.defineStyle("checked",moobile.ListItem,{attach:function(e){e.addClass("style-checked")},detach:function(e){e.removeClass("style-checked")}}),moobile.Component.defineStyle("disclosed",moobile.ListItem,{attach:function(e){e.addClass("style-disclosed")},detach:function(e){e.removeClass("style-disclosed")}}),moobile.Component.defineStyle("detailed",moobile.ListItem,{attach:function(e){e.addClass("style-detailed")},detach:function(e){e.removeClass("style-detailed")}});

},{}],17:[function(require,module,exports){
"use strict";var List=moobile.List=new Class({Extends:moobile.Control,__selectable:!0,__selectedItem:null,__selectedItemIndex:-1,options:{tagName:"ul",selectable:!0,selectedItemIndex:-1,items:null},willBuild:function(){this.parent(),this.addClass("list")},didBuild:function(){this.parent(),this.setSelectable(this.options.selectable),this.setSelectedItemIndex(this.options.selectedItemIndex);var e=this.options.items;e&&this.addItems(e)},destroy:function(){this.__selectedItem=null,this.__selectedItemIndex=-1,this.parent()},setSelectedItem:function(e){return 0==this.__selectable?this:this.__selectedItem===e?this:(this.__selectedItem&&(this.__selectedItem.setSelected(!1),this.fireEvent("deselect",this.__selectedItem),this.__selectedItem=null),this.__selectedItemIndex=e?this.getChildComponentIndex(e):-1,e&&(this.__selectedItem=e,this.__selectedItem.setSelected(!0),this.fireEvent("select",this.__selectedItem)),this)},getSelectedItem:function(){return this.__selectedItem},setSelectedItemIndex:function(e){var t=null;return e>=0&&(t=this.getChildComponentByTypeAt(moobile.ListItem,e)),this.setSelectedItem(t)},getSelectedItemIndex:function(){return this.__selectedItemIndex},clearSelectedItem:function(){return this.setSelectedItem(null),this},addItem:function(e,t){return this.addChildComponent(moobile.ListItem.from(e),t)},addItemAfter:function(e,t){return this.addChildComponentAfter(moobile.ListItem.from(e),t)},addItemBefore:function(e,t){return this.addChildComponentBefore(moobile.ListItem.from(e),t)},addItems:function(e,t){return this.addChildComponents(e.map(function(e){return moobile.ListItem.from(e)}),t)},addItemsAfter:function(e,t){return this.addChildComponentsAfter(e.map(function(e){return moobile.ListItem.from(e)}),t)},addItemsBefore:function(e,t){return this.addChildComponentsBefore(e.map(function(e){return moobile.ListItem.from(e)}),t)},getItem:function(e){return this.getChildComponentByType(moobile.ListItem,e)},getItemAt:function(e){return this.getChildComponentByTypeAt(moobile.ListItem,e)},getItemIndex:function(e){return this.getChildComponentIndex(e)},getItems:function(){return this.getChildComponentsByType(moobile.ListItem)},removeItem:function(e){return this.removeChildComponent(e)},removeAllItems:function(){return this.removeAllChildComponentsByType(moobile.ListItem)},setSelectable:function(e){return this.__selectable=e,this},isSelectable:function(){return this.__selectable},didAddChildComponent:function(e){this.parent(e),e instanceof moobile.ListItem&&(e.addEvent("tapcancel",this.bound("__onItemTapCancel")),e.addEvent("tapstart",this.bound("__onItemTapStart")),e.addEvent("tapend",this.bound("__onItemTapEnd")),e.addEvent("tap",this.bound("__onItemTap")))},willRemoveChildComponent:function(e){this.parent(e),this.__selectedItem===e&&this.clearSelectedItem()},didRemoveChildComponent:function(e){this.parent(e),e instanceof moobile.ListItem&&(e.removeEvent("tapcancel",this.bound("__onItemTapCancel")),e.removeEvent("tapstart",this.bound("__onItemTapStart")),e.removeEvent("tapend",this.bound("__onItemTapEnd")),e.removeEvent("tap",this.bound("__onItemTap")))},didChangeState:function(e){this.parent(e),("disabled"===e||null==e)&&this.getChildComponents().invoke("setDisabled",e)},didUpdateLayout:function(){this.parent();for(var e=this.getChildComponents(),t=0;t<e.length;t++){var n=e[t-1],i=e[t+1],s=e[t];if(s.hasStyle("header"))i&&i.addClass("list-section-header"),n&&n.addClass("list-section-footer");else{if(i&&i.hasStyle("header")||n&&n.hasStyle("header"))continue;s.removeClass("list-section-header"),s.removeClass("list-section-footer")}}},__onItemTapCancel:function(e,t){t.setHighlighted(!1)},__onItemTapStart:function(e,t){this.__selectable&&!t.isSelected()&&t.setHighlighted(!0)},__onItemTapEnd:function(e,t){this.__selectable&&!t.isSelected()&&t.setHighlighted(!1)},__onItemTap:function(e,t){this.__selectable&&this.setSelectedItem(t)}});moobile.Component.defineRole("list",null,function(e){this.addChildComponent(moobile.Component.create(List,e,"data-list"))}),moobile.Component.defineStyle("grouped",List,{attach:function(e){e.addClass("style-grouped")},detach:function(e){e.removeClass("style-grouped")}});

},{}],18:[function(require,module,exports){
"use strict";var NavigationBar=moobile.NavigationBar=new Class({Extends:moobile.Bar,__title:null,contentElement:null,options:{title:null,titleCentered:!0},willBuild:function(){this.parent(),this.addClass("navigation-bar");var t=this.getRoleElement("item");if(t)return void console.log('[REMOVAL NOTICE] The role "item" has been removed in 0.3, use the role "content" instead and refer to the documentation.');var e=this.getRoleElement("content");null===e&&(e=document.createElement("div"),e.ingest(this.element),e.inject(this.element),e.setRole("content"));var n=e.firstChild,i=e.lastChild;if(n&&3===n.nodeType&&i&&3===i.nodeType){var o=this.getRoleElement("title");null===o&&(o=document.createElement("div"),o.ingest(e),o.inject(e),o.setRole("title"))}},didBuild:function(){this.parent();var t=this.options.title;t&&this.setTitle(t)},destroy:function(){this.__title=null,this.parent()},setTitle:function(t){return this.__title===t?this:(t=moobile.Text.from(t),this.__title?this.__title.replaceWithComponent(t,!0):this.addChildComponentInside(t,this.contentElement),this.__title=t,this.__title.addClass("navigation-bar-title"),this.toggleClass("navigation-bar-title-empty",this.__title.isEmpty()),this)},getTitle:function(){return this.__title},didUpdateLayout:function(){if(this.parent(),this.options.titleCentered===!1)return this;var t=this.element,e=this.contentElement;e.setStyle("padding-left",0),e.setStyle("padding-right",0);var n=t.offsetWidth,i=e.offsetWidth,o=e.offsetLeft,l=2*(n/2-(o+i/2)),a=e.firstChild,s=e.lastChild;if(a&&a.getPosition){var r=a.offsetLeft+l;0>r&&(l+=Math.abs(r))}if(s&&s.getPosition){var r=s.offsetLeft+s.offsetWidth+l;r>i&&(l-=Math.abs(i-r))}e.setStyle(0>l?"padding-right":"padding-left",Math.abs(l))},addLeftButton:function(t){return this.addChildComponent(t,"top")},addRightButton:function(t){return this.addChildComponent(t,"bottom")},getButton:function(t){return this.getChildComponentByType(moobile.Button,t)},getButtonAt:function(t){return this.getChildComponentByTypeAt(moobile.Button,t)},removeButton:function(t,e){return this.removeChildComponent(t,e)},removeAllButtons:function(t){return this.removeAllChildComponents(moobile.Button,t)}});moobile.Component.defineRole("navigation-bar",null,null,function(t){this.addChildComponent(moobile.Component.create(NavigationBar,t,"data-navigation-bar"))}),moobile.Component.defineRole("content",NavigationBar,{traversable:!0},function(t){this.contentElement=t,this.contentElement.addClass("navigation-bar-content")}),moobile.Component.defineRole("title",NavigationBar,null,function(t){this.setTitle(moobile.Component.create(moobile.Text,t,"data-title"))});

},{}],19:[function(require,module,exports){
"use strict";var Slider=moobile.Slider=new Class({Extends:moobile.Control,__activeTouch:null,__activeTouchOffsetX:null,__activeTouchOffsetY:null,__activeTouchInitialThumbX:null,__activeTouchInitialThumbY:null,_position:{x:-1,y:-1},_value:null,_minimum:0,_maximum:0,_valueRange:null,_trackRange:null,_trackLimit:{min:0,max:0},trackElement:null,thumbElement:null,rangeElement:null,valueElement:null,hitAreaElement:null,options:{mode:"horizontal",snap:!1,value:0,minimum:0,maximum:100},willBuild:function(){this.parent(),this.addClass("slider"),this.trackElement=document.createElement("div"),this.trackElement.addClass("slider-track"),this.trackElement.inject(this.element),this.thumbElement=document.createElement("div"),this.thumbElement.addClass("slider-thumb"),this.thumbElement.inject(this.trackElement),this.rangeElement=document.createElement("div"),this.rangeElement.addClass("slider-range"),this.rangeElement.inject(this.trackElement),this.valueElement=document.createElement("div"),this.valueElement.addClass("slider-value"),this.valueElement.inject(this.rangeElement),this.hitAreaElement=new Element("div.hit-area").inject(this.thumbElement),("min"in this.options||"max"in this.options)&&("min"in this.options&&(this.options.minimum=this.options.min),"max"in this.options&&(this.options.maximum=this.options.max),console.log('[DEPRECATION NOTICE] The options "min" and "max" will be removed in 0.4, use the "minimum" and "maximum" options instead'));var t=this.options.mode;t&&this.addClass("slider-mode-"+t)},didBuild:function(){this.parent(),this.element.addEvent("touchstart",this.bound("_onTouchStart")),this.element.addEvent("touchmove",this.bound("_onTouchMove")),this.element.addEvent("touchend",this.bound("_onTouchEnd")),this.thumbElement.addEvent("touchcancel",this.bound("_onThumbTouchCancel")),this.thumbElement.addEvent("touchstart",this.bound("_onThumbTouchStart")),this.thumbElement.addEvent("touchmove",this.bound("_onThumbTouchMove")),this.thumbElement.addEvent("touchend",this.bound("_onThumbTouchEnd")),this.setMinimum(this.options.minimum),this.setMaximum(this.options.maximum);var t=this.options.value;null!==t&&this.setValue(t)},didUpdateLayout:function(){this.parent();var t=this.trackElement.getSize(),i=this.thumbElement.getSize(),e=0;switch(this.options.mode){case"horizontal":e=t.x-i.x;break;case"vertical":e=t.y-i.y}this._valueRange=this._maximum-this._minimum,this._trackRange=e,this._trackLimit={min:0,max:e};var n=this._positionFromValue(this._value);(n.x!==this._position.x||n.y!==this._position.y)&&this._move(n.x,n.y)},destroy:function(){this.element.removeEvent("touchstart",this.bound("_onTouchStart")),this.element.removeEvent("touchmove",this.bound("_onTouchMove")),this.element.removeEvent("touchend",this.bound("_onTouchEnd")),this.thumbElement.removeEvent("touchcancel",this.bound("_onThumbTouchCancel")),this.thumbElement.removeEvent("touchstart",this.bound("_onThumbTouchStart")),this.thumbElement.removeEvent("touchmove",this.bound("_onThumbTouchMove")),this.thumbElement.removeEvent("touchend",this.bound("_onThumbTouchEnd")),this.thumbElement=null,this.trackElement=null,this.valueElement=null,this.rangeElement=null,this.parent()},setValue:function(t){if(t=this.options.snap?t.round():t,this._value===t)return this;t>this._maximum?t=this._maximum:t<this._minimum&&(t=this._minimum),this._value=t;var i=this._positionFromValue(t);return(i.x!==this._position.x||i.y!==this._position.y)&&this._move(i.x,i.y),this.fireEvent("change",t),this},getValue:function(){return this._value},setMinimum:function(t){return this._minimum=t,this._value<t&&this.setValue(t),this},getMinimum:function(){return this._minimum},setMaximum:function(t){return this._maximum=t,this._value>t&&this.setValue(t),this},getMaximum:function(){return this._maximum},_move:function(t,i){if(!this.isReady()||!this.isVisible())return this;switch(this.options.mode){case"horizontal":i=0,t<this._trackLimit.min&&(t=this._trackLimit.min),t>this._trackLimit.max&&(t=this._trackLimit.max);break;case"vertical":t=0,i<this._trackLimit.min&&(i=this._trackLimit.min),i>this._trackLimit.max&&(i=this._trackLimit.max)}return this._position.x=t,this._position.y=i,this.thumbElement.setStyle("transform","translate3d("+t+"px, "+i+"px, 0)"),this.valueElement.setStyle("transform","translate3d("+t+"px, "+i+"px, 0)"),this},_valueFromPosition:function(t,i){return("horizontal"===this.options.mode?t:i)*this._valueRange/this._trackRange+this._minimum},_positionFromValue:function(t){var i=0,e=0,n=(t-this._minimum)*this._trackRange/this._valueRange;switch(this.options.mode){case"horizontal":i=n.round(2);break;case"vertical":e=n.round(2)}return{x:i,y:e}},_onTouchStart:function(t){t.stop()},_onTouchMove:function(t){t.stop()},_onTouchEnd:function(t){t.stop()},_onThumbTouchCancel:function(t){this.__activeTouch=null,this.__activeTouchOffsetX=null,this.__activeTouchOffsetY=null,this.__activeTouchInitialThumbX=null,this.__activeTouchInitialThumbY=null},_onThumbTouchStart:function(t){var i=t.changedTouches[0];null===this.__activeTouch&&(this.__activeTouch=i,this.__activeTouchOffsetX=i.pageX,this.__activeTouchOffsetY=i.pageY,this.__activeTouchInitialThumbX=this._position.x,this.__activeTouchInitialThumbY=this._position.y)},_onThumbTouchMove:function(t){var i=t.changedTouches[0];if(this.__activeTouch.identifier===i.identifier){var e=i.pageX-this.__activeTouchOffsetX+this.__activeTouchInitialThumbX,n=i.pageY-this.__activeTouchOffsetY+this.__activeTouchInitialThumbY;this.setValue(this._valueFromPosition(e,n))}},_onThumbTouchEnd:function(t){this.__activeTouch.identifier===t.changedTouches[0].identifier&&(this.__activeTouch=null,this.__activeTouchOffsetX=null,this.__activeTouchOffsetY=null,this.__activeTouchInitialThumbX=null,this.__activeTouchInitialThumbY=null)}});moobile.Component.defineRole("slider",null,function(t){this.addChildComponent(moobile.Component.create(Slider,t,"data-slider"))});

},{}],20:[function(require,module,exports){
"use strict";var TabBar=moobile.TabBar=new Class({Extends:moobile.Bar,__selectedTab:null,__selectedTabIndex:-1,options:{selectedTabIndex:-1,tabs:null},willBuild:function(){this.parent(),this.addClass("tab-bar")},didBuild:function(){this.parent();var e=this.options.tabs;e&&this.addTabs(e)},setSelectedTab:function(e){return this.__selectedTab===e?this:(this.__selectedTab&&(this.__selectedTab.setSelected(!1),this.fireEvent("deselect",this.__selectedTab),this.__selectedTab=null),this.__selectedTabIndex=e?this.getChildComponentIndex(e):-1,e&&(this.__selectedTab=e,this.__selectedTab.setSelected(!0),this.fireEvent("select",this.__selectedTab)),this)},getSelectedTab:function(){return this.__selectedTab},setSelectedTabIndex:function(e){var t=null;return e>=0&&(t=this.getChildComponentByTypeAt(moobile.Tab,e)),this.setSelectedTab(t)},getSelectedTabIndex:function(){return this.__selectedTabIndex},clearSelectedTab:function(){return this.setSelectedTab(null),this},addTab:function(e,t){return this.addChildComponent(Tab.from(e),t)},addTabAfter:function(e,t){return this.addChildComponentAfter(Tab.from(e),t)},addTabBefore:function(e,t){return this.addChildComponentBefore(Tab.from(e),t)},addTabs:function(e,t){return this.addChildComponents(e.map(function(e){return Moobile.Tab.from(e)}),t)},addTabsAfter:function(e,t){return this.addChildComponentsAfter(e.map(function(e){return moobile.Tab.from(e)}),t)},addTabsBefore:function(e,t){return this.addChildComponentsBefore(e.map(function(e){return moobile.Tab.from(e)}),t)},getTabs:function(){return this.getChildComponentsByType(Tab)},getTab:function(e){return this.getChildComponentByType(moobile.Tab,e)},getTabAt:function(e){return this.getChildComponentByTypeAt(moobile.Tab,e)},removeTab:function(e,t){return this.removeChildComponent(e,t)},removeAllTabs:function(e){return this.removeAllChildComponentsByType(Tab,e)},willRemoveChildComponent:function(e){this.parent(e),this.__selectedTab===e&&this.clearSelectedTab()},didAddChildComponent:function(e){this.parent(e),e instanceof moobile.Tab&&e.addEvent("tap",this.bound("__onTabTap"))},didRemoveChildComponent:function(e){this.parent(e),e instanceof moobile.Tab&&e.removeEvent("tap",this.bound("__onTabTap"))},didChangeState:function(e){this.parent(e),("disabled"===e||null==e)&&this.getChildComponents().invoke("setDisabled",e)},__onTabTap:function(e,t){this.setSelectedTab(t)}});moobile.Component.defineRole("tab-bar",null,null,function(e){this.addChildComponent(moobile.Component.create(Tabmoobile.Bar,e,"data-tab-bar"))});

},{}],21:[function(require,module,exports){
"use strict";var Tab=moobile.Tab=new Class({Extends:moobile.Control,__label:null,__image:null,options:{label:null,image:null},willBuild:function(){this.parent(),this.addClass("tab");var e=this.getRoleElement("image"),t=this.getRoleElement("label");null===t&&(t=document.createElement("div"),t.ingest(this.element),t.inject(this.element),t.setRole("label")),null===e&&(e=document.createElement("div"),e.inject(this.element,"top"),e.setRole("image"))},didBuild:function(){this.parent();var e=this.options.image,t=this.options.label;e&&this.setImage(e),t&&this.setLabel(t)},destroy:function(){this.__label=null,this.__image=null,this.parent()},setLabel:function(e){return this.__label===e?this:(e=moobile.Text.from(e),this.__label?this.__label.replaceWithComponent(e,!0):this.addChildComponent(e),this.__label=e,this.__label.addClass("tab-label"),this.toggleClass("tab-label-empty",this.__label.isEmpty()),this)},getLabel:function(){return this.__label},setImage:function(e){return this.__image===e?this:(e=moobile.Image.from(e),this.__image?this.__image.replaceWithComponent(e,!0):this.addChildComponent(e),this.__image=e,this.__image.addClass("tab-image"),this.toggleClass("tab-image-empty",this.__image.isEmpty()),this)},getImage:function(){return this.__image}});Tab.from=function(e){if(e instanceof Tab)return e;var t=new Tab;return t.setLabel(e),t},moobile.Component.defineRole("tab",moobile.TabBar,null,function(e){this.addTab(moobile.Component.create(Tab,e,"data-tab"))}),moobile.Component.defineRole("label",Tab,null,function(e){this.setLabel(moobile.Component.create(moobile.Text,e,"data-label"))}),moobile.Component.defineRole("image",Tab,null,function(e){this.setImage(moobile.Component.create(moobile.Image,e,"data-image"))});

},{}],22:[function(require,module,exports){
"use strict";var Text=moobile.Text=new Class({Extends:moobile.Control,options:{tagName:"span",text:null},willBuild:function(){this.parent(),this.addClass("text")},didBuild:function(){this.parent();var t=this.options.text;t&&this.setText(t)},setText:function(t){return this.element.set("html",t instanceof Text?t.getText():t||"number"==typeof t?t+"":""),this},getText:function(){return this.element.get("html")},isEmpty:function(){return!this.getText()}});Text.from=function(t){if(t instanceof Text)return t;var e=new Text;return e.setText(t),e},moobile.Component.defineRole("text",null,function(t){this.addChildComponent(moobile.Component.create(Text,t,"data-text"))});

},{}],23:[function(require,module,exports){
(function (global){
"use strict";var moobile=global.moobile=global.Moobile={version:"0.3.5"};

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],24:[function(require,module,exports){
"use strict";var Alert=moobile.Alert=new Class({Extends:moobile.Component,__title:null,__message:null,__buttons:[],boxElement:null,contentElement:null,headerElement:null,footerElement:null,overlay:null,options:{layout:"horizontal",title:null,message:null,buttons:null},willBuild:function(){this.parent(),this.addClass("alert"),this.addEvent("animationend",this.bound("__onAnimationEnd")),this.overlay=new moobile.Overlay,this.addChildComponent(this.overlay),this.headerElement=document.createElement("div"),this.headerElement.addClass("alert-header"),this.footerElement=document.createElement("div"),this.footerElement.addClass("alert-footer"),this.contentElement=document.createElement("div"),this.contentElement.addClass("alert-content"),this.boxElement=document.createElement("div"),this.boxElement.addClass("alert-box"),this.boxElement.grab(this.headerElement),this.boxElement.grab(this.contentElement),this.boxElement.grab(this.footerElement),this.element.grab(this.boxElement);var t=this.options.layout;t&&this.addClass("alert-layout-"+t)},didBuild:function(){this.parent(),this.setTitle(this.options.title),this.setMessage(this.options.message);var t=this.options.buttons;t&&this.addButtons(t)},destroy:function(){this.removeEvent("animationend",this.bound("__onAnimationEnd")),this.__title=null,this.__message=null,this.boxElement=null,this.headerElement=null,this.footerElement=null,this.contentElement=null,this.overlay.destroy(),this.overlay=null,this.parent()},setTitle:function(t){return null!==this.__title&&this.__title===t?this:(t=moobile.Text.from(t),this.__title?this.__title.replaceWithComponent(t,!0):this.addChildComponentInside(t,this.headerElement),this.__title=t,this.__title.addClass("alert-title"),this.toggleClass("alert-title-empty",this.__title.isEmpty()),this)},getTitle:function(){return this.__title},setMessage:function(t){return null!==this.__message&&this.__message===t?this:(t=moobile.Text.from(t),this.__message?this.__message.replaceWithComponent(t,!0):this.addChildComponentInside(t,this.contentElement),this.__message=t,this.__message.addClass("alert-message"),this.toggleClass("alert-message-empty",this.__message.isEmpty()),this)},getMessage:function(){return this.__message},addButton:function(t,e){return this.addChildComponentInside(moobile.Button.from(t),this.footerElement,e)},addButtonAfter:function(t,e){return this.addChildComponentAfter(moobile.Button.from(t),e)},addButtonBefore:function(t,e){return this.addChildComponentBefore(moobile.Button.from(t),e)},addButtons:function(t,e){return this.addChildComponentsInside(t.map(function(t){return moobile.Button.from(t)}),this.footerElement,e)},addButtonsAfter:function(t,e){return this.addChildComponentsAfter(t.map(function(t){return moobile.Button.from(t)}),e)},addButtonsBefore:function(t,e){return this.addChildComponentBefore(t.map(function(t){return moobile.Button.from(t)}),e)},getButtons:function(){return this.getChildComponentsByType(moobile.Button)},getButton:function(t){return this.getChildComponentByType(moobile.Button,t)},getButtonAt:function(t){return this.getChildComponentByTypeAt(moobile.Button,t)},removeButton:function(t,e){return this.removeChildComponent(t,e)},removeAllButtons:function(t){return this.removeAllChildComponentsByType(moobile.Button,t)},setDefaultButton:function(t){return this.hasChildComponent(t)&&t.addClass("is-default"),this},setDefaultButtonIndex:function(t){return this.setDefaultButton(this.getChildComponentByTypeAt(moobile.Button,t))},showAnimated:function(){return this.willShow(),this.element.addClass("show-animated").removeClass("hidden"),this.overlay.showAnimated(),this},hideAnimated:function(){return this.willHide(),this.element.addClass("hide-animated"),this.overlay.hideAnimated(),this},didAddChildComponent:function(t){this.parent(t),t instanceof moobile.Button&&(t.addEvent("tap",this.bound("__onButtonTap")),this.__buttons.include(t))},didRemoveChildComponent:function(t){this.parent(t),t instanceof moobile.Button&&(t.removeEvent("tap",this.bound("__onButtonTap")),this.__buttons.erase(t))},willShow:function(){if(null===this.getParentView()){var t=moobile.Window.getCurrentInstance();t&&t.addChildComponent(this)}0===this.__buttons.length&&this.addButton("OK"),this.parent()},didHide:function(){this.parent(),this.removeFromParentComponent()},__onButtonTap:function(t,e){var n=this.getChildComponentsByType(moobile.Button).indexOf(e);n>=0&&this.fireEvent("dismiss",[e,n]),this.hideAnimated()},__onAnimationEnd:function(t){t.stop(),this.hasClass("show-animated")&&(this.removeClass("show-animated"),this.didShow()),this.hasClass("hide-animated")&&(this.addClass("hidden").removeClass("hide-animated"),this.didHide())}});

},{}],25:[function(require,module,exports){
!function(){function n(n){return""===e?n:(n=n.charAt(0).toUpperCase()+n.substr(1),e+n)}var t=document.createElement("div").style,e=function(){for(var n,e="t,webkitT,MozT,msT,OT".split(","),i=0,o=e.length;o>i;i++)if(n=e[i]+"ransform",n in t)return e[i].substr(0,e[i].length-1);return!1}(),i=n("AnimationEnd"),o=n("TransitionEnd");Element.NativeEvents[i]=2,Element.NativeEvents[o]=2,Element.Events.transitionend={base:o,onAdd:function(){},onRemove:function(){}},Element.Events.animationend={base:i,onAdd:function(){},onRemove:function(){}},Element.defineCustomEvent("owntransitionend",{base:"transitionend",condition:function(n){return n.stop(),n.target===this}}),Element.defineCustomEvent("ownanimationend",{base:"animationend",condition:function(n){return n.stop(),n.target===this}})}();

},{}],26:[function(require,module,exports){
"use strict";var fireEvent=Events.prototype.fireEvent,Firer=moobile.Firer=new Class({Implements:[Events,Options,Class.Binds],on:function(){return this.addEvent.apply(this,arguments)},off:function(){return this.removeEvent.apply(this,arguments)},emit:function(){return this.fireEvent.apply(this,arguments)},fireEvent:function(t,e,n){return e=Array.convert(e).include(this),this.shouldFireEvent(t,e)?(this.willFireEvent(t,e),fireEvent.call(this,t,e,n),this.didFireEvent(t,e),this):this},shouldFireEvent:function(t,e){return!0},willFireEvent:function(t,e){},didFireEvent:function(t,e){}});

},{}],27:[function(require,module,exports){
"use strict";var onReady=function(){window.fireEvent("ready")};Element.defineCustomEvent("ready",{onSetup:function(){return Browser.platform.cordova?void document.onListener("deviceready",onReady):void window.addEvent("domready",onReady)},onTeardown:function(){return Browser.platform.cordova?void document.offListener("deviceready",onReady):void window.removeEvent("domready",onReady)}}),window.addEvent("ready",function(){parent&&parent.fireEvent&&parent.fireEvent("appready")});

},{}],28:[function(require,module,exports){
"use strict";var tapValid=!0,tapTouch=null,onTapTouchStart=function(t){tapTouch=t.changedTouches[0],tapValid=!0},onTapTouchCancel=function(t){tapValid=!1};Element.defineCustomEvent("tap",{base:"touchend",condition:function(t){if(tapValid){var n=tapTouch?document.elementFromPoint(tapTouch.pageX,tapTouch.pageY):null;return n?this===n||this.contains(n):!1}return tapValid},onSetup:function(){this.addEvent("touchcancel",onTapTouchCancel),this.addEvent("touchstart",onTapTouchStart)},onTeardown:function(){this.removeEvent("touchcancel",onTapTouchCancel),this.removeEvent("touchstart",onTapTouchStart)}}),Element.defineCustomEvent("tapstart",{base:"touchstart",condition:function(t){return 1===t.touches.length}}),Element.defineCustomEvent("tapmove",{base:"touchmove",condition:function(t){return 1===t.touches.length}}),Element.defineCustomEvent("tapend",{base:"touchend",condition:function(t){return 0===t.touches.length}}),Element.defineCustomEvent("tapcancel",{base:"touchcancel"});

},{}],29:[function(require,module,exports){
(function (global){
"use strict";var hasTouchEvent="ontouchstart"in global,hasTouchList=hasTouchEvent&&"TouchList"in global,hasTouch=hasTouchEvent&&"Touch"in global;if(!hasTouchList){var TouchList=function(){this.length=0};TouchList.prototype.identifiedTouch=function(e){return this[0]&&this[0].identifier===e?this[0]:null},TouchList.prototype.item=function(e){return this[e]||null}}if(!hasTouch)var Touch=function(){};var touch=null,target=null,onDocumentMouseDown=function(e){if(null===target){target=e.target,touch=new Touch,touch.identifier=Date.now(),touch.screenX=e.screenX,touch.screenY=e.screenY,touch.clientX=e.clientX,touch.clientY=e.clientY,touch.pageX=e.pageX,touch.pageY=e.pageY,touch.radiusX=0,touch.radiusY=0,touch.rotationAngle=0,touch.force=0,touch.target=target;var t=new TouchList;t.length=1,t[0]=touch;var o=document.createEvent("CustomEvent");o.initCustomEvent("touchstart",!0,!0,null),o.touches=t,o.targetTouches=t,o.changedTouches=t,target.dispatchEvent(o)}},onDocumentMouseMove=function(e){if(target){touch.screenX=e.screenX,touch.screenY=e.screenY,touch.clientX=e.clientX,touch.clientY=e.clientY,touch.pageX=e.pageX,touch.pageY=e.pageY;var t=new TouchList;t.length=1,t[0]=touch;var o=document.createEvent("CustomEvent");o.initCustomEvent("touchmove",!0,!0,null),o.touches=t,o.targetTouches=t,o.changedTouches=t,target.dispatchEvent(o)}},onDocumentMouseUp=function(e){if(target){touch.screenX=e.screenX,touch.screenY=e.screenY,touch.clientX=e.clientX,touch.clientY=e.clientY,touch.pageX=e.pageX,touch.pageY=e.pageY;var t=new TouchList;t.length=1,t[0]=touch;var o=document.createEvent("CustomEvent");o.initCustomEvent("touchend",!0,!0,null),o.touches=new TouchList,o.targetTouches=new TouchList,o.changedTouches=t,target.dispatchEvent(o),target=null}};hasTouchEvent?(delete Element.NativeEvents.mousedown,delete Element.NativeEvents.mousemove,delete Element.NativeEvents.mouseup,Element.defineCustomEvent("mousedown",{base:"touchstart"}).defineCustomEvent("mousemove",{base:"touchmove"}).defineCustomEvent("mouseup",{base:"touchend"})):(document.addEventListener("mousedown",onDocumentMouseDown),document.addEventListener("mousemove",onDocumentMouseMove),document.addEventListener("mouseup",onDocumentMouseUp));

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],30:[function(require,module,exports){
"use strict";var iScroll=require("iscroll").iScroll,touch=null,IScroll=moobile.Scroller.IScroll=new Class({Extends:moobile.Scroller,scroller:null,initialize:function(o,t,r){return this.parent(o,t,r),this.scroller=new iScroll(t,{scrollbarClass:"scrollbar-",hScroll:"both"===this.options.scroll||"horizontal"===this.options.scroll,vScroll:"both"===this.options.scroll||"vertical"===this.options.scroll,hScrollbar:"both"===this.options.scrollbar||"horizontal"===this.options.scrollbar,vScrollbar:"both"===this.options.scrollbar||"vertical"===this.options.scrollbar,momentum:this.options.momentum,bounce:this.options.bounce,hideScrollbar:!0,fadeScrollbar:!0,checkDOMChanges:!0,onBeforeScrollStart:this.bound("_onBeforeScrollStart"),onScrollStart:this.bound("_onScrollStart"),onScrollMove:this.bound("_onScrollMove"),onScrollEnd:this.bound("_onScrollEnd"),onTouchEnd:this.bound("_onTouchEnd")}),window.addEvent("resize",this.bound("refresh")),this},destroy:function(){return window.removeEvent("resize",this.bound("refresh")),this.scroller.destroy(),this.scroller=null,this.parent()},getName:function(){return"iscroll"},scrollTo:function(o,t,r){return this.scroller.scrollTo(-o,-t,r||0),this},scrollToElement:function(o,t){return this.scroller.scrollToElement(document.id(o),t||0),this},refresh:function(){return this.scroller.refresh(),this},getScroll:function(){return{x:-this.scroller.x,y:-this.scroller.y}},_onBeforeScrollStart:function(o){var t=o.target.get("tag");"input"!==t&&"select"!==t&&"textarea"!==t&&o.preventDefault()},_onScrollStart:function(o){Browser.Features.Touch||(touch={identifier:String.uniqueID(),target:o.target,pageX:o.pageX,pageY:o.pageY,clientX:o.clientX,clientY:o.clientY},o.touches=o.targetTouches=o.changedTouches=[touch]),this.fireEvent("touchstart",o),this.fireEvent("scrollstart")},_onScrollMove:function(o){Browser.Features.Touch||(touch.pageX=o.pageX,touch.pageY=o.pageY,touch.clientX=o.clientX,touch.clientY=o.clientY,o.touches=o.targetTouches=o.changedTouches=[touch]),this.fireEvent("touchmove",o),this.fireEvent("scroll")},_onScrollEnd:function(){this.fireEvent("scroll"),this.fireEvent("scrollend")},_onTouchEnd:function(o){Browser.Features.Touch||(touch.pageX=o.pageX,touch.pageY=o.pageY,touch.clientX=o.clientX,touch.clientY=o.clientY,o.touches=[],o.targetTouches=[],o.changedTouches=[touch],touch=null),this.fireEvent("touchend",o)}});moobile.Scroller.IScroll.supportsCurrentPlatform=function(){return!0};

},{"iscroll":1}],31:[function(require,module,exports){
"use strict";var requestFrame=require("moofx/lib/frame").request,cancelFrame=require("moofx/lib/frame").cancel,Native=moobile.Scroller.Native=new Class({Extends:moobile.Scroller,_animating:!1,_animation:null,contentScrollerElement:null,initialize:function(t,e,n){this.parent(t,e,n),this.options.snapToPage&&(this.options.momentum=!1,this.options.bounce=!1),this.contentWrapperElement.setStyle("overflow","auto"),this.contentWrapperElement.setStyle("overflow-scrolling","touch");var o={top:0,left:0,bottom:0,right:0,position:"absolute",overflow:"auto","overflow-scrolling":this.options.momentum?"touch":"auto"};return this.contentScrollerElement=document.createElement("div"),this.contentScrollerElement.setStyles(o),this.contentScrollerElement.wraps(t),this.contentScrollerElement.addEvent("touchstart",this.bound("_onTouchStart")),this.contentScrollerElement.addEvent("touchmove",this.bound("_onTouchMove")),this.contentScrollerElement.addEvent("touchend",this.bound("_onTouchEnd")),this.contentScrollerElement.addEvent("scroll",this.bound("_onScroll")),window.addEvent("orientationchange",this.bound("_onOrientationChange")),this},destroy:function(){this.contentScrollerElement.removeEvent("touchstart",this.bound("_onTouchStart")),this.contentScrollerElement.removeEvent("touchmove",this.bound("_onTouchMove")),this.contentScrollerElement.removeEvent("touchend",this.bound("_onTouchEnd")),this.contentScrollerElement.removeEvent("scroll",this.bound("_onScroll")),this.contentScrollerElement=null,this.contentScroller=null,window.addEvent("orientationchange",this.bound("_onOrientationChange")),this.parent()},getName:function(){return"native"},scrollTo:function(t,e,n){t=t||0,e=e||0,n=n||0,this._animating&&(this._animating=!1,cancelFrame(this._animation));var o=Date.now(),i=this,r=this.contentScrollerElement,l=(Math.abs(t),Math.abs(e),r.scrollLeft),c=r.scrollTop,s=t-l,h=e-c,a=function(){if(r.scrollLeft===t&&r.scrollTop===e)return i.fireEvent("scroll"),i._animating=!1,void(i._animation=null);var u=(Date.now()-o)*(t-l)/n,m=(Date.now()-o)*(e-c)/n,v=u+l,E=m+c;(v>=t&&s>=0||t>v&&0>s)&&(v=t),(E>=e&&h>=0||e>E&&0>h)&&(E=e),r.scrollLeft=v,r.scrollTop=E,i._animating=!0,i._animation=requestFrame(a)};return this._animation=requestFrame(a),this},scrollToElement:function(t,e){var n=document.id(t);if(n){var o=t.getPosition(this.contentElement);this.scrollTo(o.x,o.y,e)}return this},refresh:function(){var t=this.contentWrapperElement.getSize(),e=this.contentElement.getScrollSize();if(this.options.momentum){var n="both"===this.options.scroll||"horizontal"===this.options.scroll,o="both"===this.options.scroll||"vertical"===this.options.scroll;o&&e.y<=t.y&&this.contentElement.setStyle("min-height",t.y+1),n&&e.x<=t.x&&this.contentElement.setStyle("min-width",t.x+1)}return this},getSize:function(){return this.contentScrollerElement.getSize()},getScroll:function(){return this.contentScrollerElement.getScroll()},_onScroll:function(){this.fireEvent("scroll")},_onTouchStart:function(t){this.fireEvent("touchstart",t)},_onTouchMove:function(t){this.fireEvent("touchmove",t)},_onTouchEnd:function(t){this.fireEvent("touchend",t)},_onOrientationChange:function(){this.refresh()}});moobile.Scroller.Native.supportsCurrentPlatform=function(){return"ios"===Browser.platform&&"WebkitOverflowScrolling"in document.createElement("div").style};

},{"moofx/lib/frame":2}],32:[function(require,module,exports){
"use strict";var Scroller=moobile.Scroller=new Class({Extends:moobile.Firer,contentElement:null,contentWrapperElement:null,options:{scroll:"vertial",scrollbar:"vertical",momentum:!0,bounce:!0},initialize:function(e,t,r){return this.contentElement=document.id(e),this.contentWrapperElement=document.id(t),this.contentWrapperElement.addClass("scrollable"),this.setOptions(r),this},destroy:function(){return this.contentElement=null,this.contentWrapperElement=null,this},getName:function(){throw new Error("You must override this method")},scrollTo:function(e,t,r){throw new Error("You must override this method")},scrollToElement:function(e,t){throw new Error("You must override this method")},refresh:function(){throw new Error("You must override this method")},getScroll:function(){throw new Error("You must override this method")}});Scroller.create=function(e,t,r,o){var n=null;r=r?Array.convert(r):["IScroll.Android","Native","IScroll"];for(var l=0;l<r.length;l++){var i=Class.parse("moobile.Scroller."+r[l]);if(null===i)throw new Error("The scroller scroller "+r[l]+" does not exists");if(void 0===i.supportsCurrentPlatform||i.supportsCurrentPlatform&&i.supportsCurrentPlatform.call(this)){n=i;break}}if(null===n)throw new Error("A proper scroller was not found");return new n(e,t,o)},window.addEvent("domready",function(e){var t={};document.addEvent("touchstart",function(e){for(var r=e.changedTouches,o=0,n=r.length;n>o;o++){var l=r[o],i=l.target,s=l.identifier;if(void 0===i||void 0===i.tagName||i.tagName.match(/input|textarea|select|a/i))return void(t[s]=!1);i.hasClass("scrollable")||i.getParent(".scrollable")?t[s]=!0:(t[s]=!1,e.preventDefault())}}),document.addEvent("touchmove",function(e){for(var r=e.changedTouches,o=0,n=r.length;n>o;o++)t[r[o].identifier]===!1&&e.preventDefault()}),document.addEvent("touchend",function(e){for(var r=e.changedTouches,o=0,n=r.length;n>o;o++)delete t[r[o].identifier]})});

},{}],33:[function(require,module,exports){
"use strict";var element=null,configs={},Theme=moobile.Theme={init:function(){var e=element.getStyle("content");e&&(e=e.replace(/^\'/,""),e=e.replace(/\'$/,""),configs=JSON.decode(e))},getName:function(){return configs.name||null}};document.addEvent("domready",function(){element=document.createElement("div"),element.addClass("theme"),element.inject(document.body),Theme.init()});

},{}],34:[function(require,module,exports){
"use strict";Class.parse=function(t){t=t.trim(),t=t.split(".");for(var n=window,i=0;i<t.length;i++){if(!n[t[i]])return null;n=n[t[i]]}return"function"==typeof n?n:null},Class.instantiate=function(t){if("string"==typeof t&&(t=Class.parse(t)),null===t)return null;t.$prototyping=!0;var n=new t;delete t.$prototyping;var i=Array.prototype.slice.call(arguments,1);return n.initialize&&n.initialize.apply(n,i),n};

},{}],35:[function(require,module,exports){
"use strict";var setStyle=Element.prototype.setStyle,getStyle=Element.prototype.getStyle,vendors=["Khtml","O","Ms","Moz","Webkit"],prefixes={},prefix=function(e){if(e=e.camelCase(),e in this.style)return e;if(void 0!==prefixes[e])return prefixes[e];for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<vendors.length;n++){var r=vendors[n]+t;if(r in this.style){prefixes[e]=r;break}}return void 0===prefixes[e]&&(prefixes[e]=e),prefixes[e]};Element.implement({setRole:function(e){return this.set("data-role",e)},getRole:function(e){return this.get("data-role")},setStyle:function(e,t){return setStyle.call(this,prefix.call(this,e),t)},getStyle:function(e){return getStyle.call(this,prefix.call(this,e))},ingest:function(e){return this.adopt(document.id(e).childNodes)}});var cache={};Element.from=function(e){switch(typeof e){case"object":return document.id(e);case"string":var t=document.createElement("div");return t.innerHTML=e,t.childNodes[0]||null}return null},Element.at=function(e,t){var n=function(e){t&&t(e)},r=cache[e]||null;if(r)return r=r.clone(!0,!0),n(r),r;var i=function(t){var i=Element.from(t);i&&(cache[e]=i,r=cache[e].clone(!0,!0),n(r))},l=function(){n(null)},s="function"==typeof t;return new Request({url:e,async:s,method:"get",onSuccess:i,onFailure:l}).send(),r};

},{}],36:[function(require,module,exports){
"use strict";Events.prototype.on=Events.prototype.addEvent,Events.prototype.off=Events.prototype.removeEvent,Events.prototype.emit=Events.prototype.fireEvent;

},{}],37:[function(require,module,exports){
"use strict";Request.prototype.options.isSuccess=function(){var t=this.status;return 0===t||t>=200&&300>t||304===t};

},{}],38:[function(require,module,exports){
"use strict";Array.implement({find:function(t){for(var n=0;n<this.length;n++){var s=t.call(this,this[n]);if(s===!0)return this[n]}return null},getLastItemAtOffset:function(t){return t=t?t:0,this[this.length-1-t]?this[this.length-1-t]:null},last:function(){return this.getLastItemAtOffset.apply(this,arguments)}});

},{}],39:[function(require,module,exports){
"use strict";String.implement({toCamelCase:function(){return this.camelCase().replace("-","").replace(/\s\D/g,function(e){return e.charAt(1).toUpperCase()})}});

},{}],40:[function(require,module,exports){
"use strict";var ViewControllerSet=moobile.ViewControllerSet=new Class({Extends:moobile.ViewController,_animating:!1,_tabBar:null,_selectedViewController:null,_enteringViewController:null,options:{viewTransition:null},loadView:function(){this.view=new moobile.ViewSet},viewDidLoad:function(){this.parent(),this._tabBar=this.view.getTabBar(),this._tabBar.addEvent("select",this.bound("_onTabSelect"))},destroy:function(){this._tabBar.removeEvent("select",this.bound("_onTabSelect")),this._tabBar=null,this.parent()},setChildViewControllers:function(e){this._selectedmoobile.ViewController=null,this._enteringmoobile.ViewController=null,this.removeAllChildViewControllers(!0);for(var t=0;t<e.length;t++)this.addChildViewController(e[t]);return this.showmoobile.ViewController(e[0])},showViewController:function(e,t){if(this._animating)return this;var i=this.getChildViewControllerIndex(e);if(-1===i)return this;if(this._tabBar.setSelectedTabIndex(i),null===this._selectedmoobile.ViewController)return this.willSelectmoobile.ViewController(e),this._selectedmoobile.ViewController=e,this._selectedmoobile.ViewController.showView(),this._selectedmoobile.ViewController.viewWillEnter(),this._selectedmoobile.ViewController.viewDidEnter(),this.didSelectmoobile.ViewController(e),this;if(this._selectedmoobile.ViewController===e)return this;this._enteringmoobile.ViewController=e;var o=this.getChildViewControllerIndex(this._enteringmoobile.ViewController),l=this.getChildViewControllerIndex(this._selectedmoobile.ViewController),n=o>l?"enter":"leave",r=this._enteringmoobile.ViewController.getView(),s=this._selectedmoobile.ViewController.getView();return this._animating=!0,t=t||new moobile.ViewTransition.None,t.addEvent("start:once",this.bound("onSelectTransitionStart")),t.addEvent("complete:once",this.bound("onSelectTransitionComplete")),t[n].call(t,r,s),this},showViewControllerAt:function(e,t){var i=this.getChildViewControllerAt(e);return i&&this.showmoobile.ViewController(i,t),this},getSelectedViewController:function(){return this._selectedmoobile.ViewController},getTabBar:function(){return this._tabBar},onSelectTransitionStart:function(e){this.willSelectmoobile.ViewController(this._enteringmoobile.ViewController),this._selectedmoobile.ViewController.viewWillLeave(),this._enteringmoobile.ViewController.viewWillEnter()},onSelectTransitionComplete:function(e){this._selectedmoobile.ViewController.viewDidLeave(),this._enteringmoobile.ViewController.viewDidEnter(),this.didSelectmoobile.ViewController(this._enteringmoobile.ViewController),this._selectedmoobile.ViewController=this._enteringmoobile.ViewController,this._enteringmoobile.ViewController=null,this._animating=!1},didAddChildViewController:function(e){this.parent(e),e.hideView();var t=new moobile.Tab;t.setLabel(e.getTitle()),t.setImage(e.getImage()),this._tabBar.addTab(t),e.setViewControllerSet(this)},didRemoveChildViewController:function(e){this.parent(e),e.setViewControllerSet(null),e.showView();var t=this.getChildViewControllerIndex(e);if(this._selectedmoobile.ViewController===e&&(this._selectedmoobile.ViewController=null),this._tabBar){var i=this._tabBar.getTabAt(t);i&&i.removeFromParentComponent()}},willSelectViewController:function(e){},didSelectViewController:function(e){},_onTabSelect:function(e){var t=this._tabBar.getChildComponentIndex(e),i=this.getChildViewControllerAt(t);i!==this._selectedmoobile.ViewController&&this.showmoobile.ViewController(i,this.options.viewTransition)}});Class.refactor(moobile.ViewController,{_viewControllerSet:null,setViewControllerSet:function(e){if(this._viewControllerSet===e)return this;if(this.parentViewControllerSetWillChange(e),this._viewControllerSet=e,this.parentViewControllerSetDidChange(e),this instanceof moobile.ViewControllerSet)return this;var t=function(e){return!(e instanceof moobile.ViewControllerSet)};return this.getChildViewControllers().filter(t).invoke("setViewControllerSet",e),this},getViewControllerSet:function(){return this._viewControllerSet},parentViewControllerSetWillChange:function(e){},parentViewControllerSetDidChange:function(e){},willAddChildViewController:function(e){this.previous(e),e.setViewControllerSet(this._viewControllerSet)},willRemoveChildViewController:function(e){this.previous(e),e.setViewControllerSet(null)}});

},{}],41:[function(require,module,exports){
"use strict";var ViewControllerStack=moobile.ViewControllerStack=new Class({Extends:moobile.ViewController,_animating:!1,loadView:function(){this.view=new moobile.ViewStack},pushViewController:function(t,e){if(this._animating)return this;if(this.getTopViewController()===t)return this;var i=this.getChildViewControllers();this.willPushViewController(t),this.addChildViewController(t);var n=t,o=i.getLastItemAtOffset(1),r=n.getView(),l=o?o.getView():null;return this._animating=!0,1===i.length?(this._onPushTransitionStart(),this._onPushTransitionComplete(),this):(e=e||new Moobile.ViewTransition.None,e.addEvent("start:once",this.bound("_onPushTransitionStart")),e.addEvent("complete:once",this.bound("_onPushTransitionComplete")),e.enter(r,l,this.view),n.setViewTransition(e),this)},_onPushTransitionStart:function(){var t=this.getChildViewControllers(),e=t.getLastItemAtOffset(0),i=t.getLastItemAtOffset(1);i&&i.viewWillLeave(),e.viewWillEnter()},_onPushTransitionComplete:function(){var t=this.getChildViewControllers(),e=t.getLastItemAtOffset(0),i=t.getLastItemAtOffset(1);i&&i.viewDidLeave(),this.didPushViewController(e),e.viewDidEnter(),this._animating=!1},popViewController:function(){if(this._animating)return this;var t=this.getChildViewControllers();if(t.length<=1)return this;var e=t.getLastItemAtOffset(0),i=t.getLastItemAtOffset(1);this.willPopViewController(e),this._animating=!0;var n=e.getViewTransition();return n.addEvent("start:once",this.bound("_onPopTransitionStart")),n.addEvent("complete:once",this.bound("_onPopTransitionComplete")),n.leave(i.getView(),e.getView(),this.view),this},popViewControllerUntil:function(t){if(this._animating)return this;var e=this.getChildViewControllers();if(e.length<=1)return this;var i=this.getChildViewControllerIndex(t);if(i>-1)for(var n=e.length-2;n>i;n--){var o=this.getChildViewControllerAt(n);o.viewWillLeave(),o.viewDidLeave(),o.removeFromParentViewController(),o.destroy(),o=null}return this.popViewController(),this},_onPopTransitionStart:function(t){var e=this.getChildViewControllers(),i=e.getLastItemAtOffset(1),n=e.getLastItemAtOffset(0);i.viewWillEnter(),n.viewWillLeave()},_onPopTransitionComplete:function(t){var e=this.getChildViewControllers(),i=e.getLastItemAtOffset(0),n=e.getLastItemAtOffset(1);n.viewDidEnter(),i.viewDidLeave(),i.removeFromParentViewController(),this.didPopViewController(i),i.destroy(),i=null,this._animating=!1},getTopViewController:function(){return this.getChildViewControllers().getLast()},didAddChildViewController:function(t){this.parent(t),t.setViewControllerStack(this)},didRemoveChildViewController:function(t){this.parent(t),t.setViewControllerStack(null)},willPushViewController:function(t){},didPushViewController:function(t){},willPopViewController:function(t){},didPopViewController:function(t){}});Class.refactor(moobile.ViewController,{_viewControllerStack:null,setViewControllerStack:function(t){if(this._viewControllerStack===t)return this;if(this.parentViewControllerStackWillChange(t),this._viewControllerStack=t,this.parentViewControllerStackDidChange(t),this instanceof moobile.ViewControllerStack)return this;var e=function(t){return!(t instanceof moobile.ViewControllerStack)};return this.getChildViewControllers().filter(e).invoke("setViewControllerStack",t),this},getViewControllerStack:function(){return this._viewControllerStack},parentViewControllerStackWillChange:function(t){},parentViewControllerStackDidChange:function(t){},willAddChildViewController:function(t){this.previous(t),t.setViewControllerStack(this._viewControllerStack)},willRemoveChildViewController:function(t){this.previous(t),t.setViewControllerStack(null)}});

},{}],42:[function(require,module,exports){
"use strict";var ViewController=moobile.ViewController=new Class({Extends:moobile.Firer,__id:null,__name:null,__title:null,__image:null,__viewReady:!1,__viewTransition:null,__parent:null,__children:[],__modal:!1,__modalViewController:null,view:null,initialize:function(e,i){return this.__name=i,this.setOptions(e),this.loadView(),this.view&&(this.view.addEvent("didbecomeready",this.bound("__onViewDidBecomeReady")),this.view.addEvent("didupdatelayout",this.bound("__onViewDidUpdateLayout")),this.viewDidLoad()),window.addEvent("orientationchange",this.bound("__onWindowOrientationChange")),this},loadView:function(){null===this.view&&(this.view=new moobile.View)},showView:function(){return this.view.show(),this},hideView:function(){return this.view.hide(),this},addChildViewController:function(e){return this._addChildViewController(e)},addChildViewControllerAfter:function(e,i){var t=this.getChildViewControllerIndex(i);return-1===t?this:this._addChildViewController(e,i,"after")},addChildViewControllerBefore:function(e,i){var t=this.getChildViewControllerIndex(i);return-1===t?this:this._addChildViewController(e,i,"before")},addChildViewControllerAt:function(e,i){i>this.__children.length?i=this.__children.length:0>i&&(i=0);var t=this.getChildViewControllerAt(i);return t?this.addChildViewControllerBefore(e,t):this.addChildViewController(e)},_addChildViewController:function(e,i,t){if(e.removeFromParentViewController(),this.willAddChildViewController(e),i)switch(t){case"before":this.__children.splice(this.getChildViewControllerIndex(i),1,e,i),this.view.addChildComponentBefore(e.view,i.view);break;case"after":this.__children.splice(this.getChildViewControllerIndex(i),1,i,e),this.view.addChildComponentAfter(e.view,i.view)}else this.__children.push(e),this.view.addChildComponent(e.view);return e.setParentViewController(this),this.didAddChildViewController(e),this},getChildViewController:function(e){return this.__children.find(function(i){return i.getName()===e})},getChildViewControllerAt:function(e){return this.__children[e]||null},getChildViewControllerIndex:function(e){return this.__children.indexOf(e)},getChildViewControllers:function(){return this.__children},hasChildViewController:function(e){return this.__children.contains(e)},removeChildViewController:function(e,i){if(!this.hasChildViewController(e))return this;this.willRemoveChildViewController(e),this.__children.erase(e),e.setParentViewController(null);var t=e.getView();return t&&t.removeFromParentComponent(),this.didRemoveChildViewController(e),i&&e.destroy(),this},removeFromParentViewController:function(e){return this.__parent&&this.__parent.removeChildViewController(this,e),this},removeAllChildViewControllers:function(e){return this.__children.filter(function(){return!0}).invoke("removeFromParentViewController",e),this},presentModalViewController:function(e,i){if(this.__modalViewController)return this;var t=this.view.getWindow();if(null===t)throw new Error("The view to present is not ready");this.willPresentModalViewController(e),this.__modalViewController=e,this.__modalViewController.setParentViewController(this),this.__modalViewController.setModal(!0);var n=this.__modalViewController.getView(),o=t.getChildComponentsByType(moobile.View).getLastItemAtOffset(0);return t.addChildComponent(n),i=i||new moobile.ViewTransition.Cover,i.addEvent("start:once",this.bound("__onPresentTransitionStart")),i.addEvent("complete:once",this.bound("__onPresentTransitionCompleted")),i.enter(n,o,t),e.setViewTransition(i),this},dismissModalViewController:function(){if(null===this.__modalViewController)return this;var e=this.view.getWindow();if(null===e)throw new Error("The view to dismiss is not ready");this.willDismissModalViewController();var i=e.getChildComponentsByType(moobile.View).getLastItemAtOffset(1),t=this.__modalViewController.getView(),n=this.__modalViewController.getViewTransition();return n.addEvent("start:once",this.bound("__onDismissTransitionStart")),n.addEvent("complete:once",this.bound("__onDismissTransitionCompleted")),n.leave(i,t,e),this},getName:function(){return this.__name},getId:function(){var e=this.getName();return e?e:(null===this.__id&&(this.__id=String.uniqueID()),this.__id)},setTitle:function(e){return this.__title===e?this:(e=moobile.Text.from(e),this.__title&&this.__title.hasParentComponent()&&this.__title.replaceWithComponent(e,!0),this.__title=e,this)},getTitle:function(){return this.__title},setImage:function(e){return this.__image===e?this:(e=moobile.Image.from(e),this.__image&&this.__image.hasParentComponent()&&this.__image.replaceWithComponent(e,!0),this.__image=e,this)},getImage:function(){return this.__image},setModal:function(e){this.__modal=e},isModal:function(){return this.__modal},isViewReady:function(){return this.__viewReady},getView:function(){return this.view},setViewTransition:function(e){return this.__viewTransition=e,this},getViewTransition:function(){return this.__viewTransition},setParentViewController:function(e){return this.parentViewControllerWillChange(e),this.__parent=e,this.parentViewControllerDidChange(e),this},getParentViewController:function(){return this.__parent},willAddChildViewController:function(e){},didAddChildViewController:function(e){},willRemoveChildViewController:function(e){},didRemoveChildViewController:function(e){},parentViewControllerWillChange:function(e){},parentViewControllerDidChange:function(e){},willPresentModalViewController:function(e){},didPresentModalViewController:function(e){},willDismissModalViewController:function(){},didDismissModalViewController:function(){},viewDidLoad:function(){},viewDidBecomeReady:function(){},viewDidUpdateLayout:function(){},viewWillEnter:function(){},viewDidEnter:function(){},viewWillLeave:function(){},viewDidLeave:function(){},viewDidRotate:function(e){},destroy:function(){window.removeEvent("orientationchange",this.bound("__onWindowOrientationChange")),this.removeAllChildViewControllers(!0),this.removeFromParentViewController(),this.__modalViewController&&(this.__modalViewController.destroy(),this.__modalViewController=null),this.view.removeEvent("didbecomeready",this.bound("__onViewDidBecomeReady")),this.view.removeEvent("didupdatelayout",this.bound("__onViewDidUpdateLayout")),this.view.destroy(),this.view=null,this.__title&&(this.__title.destroy(),this.__title=null),this.__image&&(this.__image.destroy(),this.__image=null),this.__parent=null,this.__children=null,this.__viewTransition=null},__onPresentTransitionStart:function(){this.__modalViewController.viewWillEnter()},__onPresentTransitionCompleted:function(){this.__modalViewController.viewDidEnter(),this.didPresentModalViewController()},__onDismissTransitionStart:function(){this.__modalViewController.viewWillLeave()},__onDismissTransitionCompleted:function(){this.__modalViewController.viewDidLeave(),this.__modalViewController.setParentViewController(this),this.__modalViewController.setModal(!1),this.__modalViewController.destroy(),this.__modalViewController=null,this.didDismissModalViewController()},__onViewDidBecomeReady:function(){this.viewDidBecomeReady()},__onViewDidUpdateLayout:function(){this.viewDidUpdateLayout()},__onWindowOrientationChange:function(e){var i=90===Math.abs(window.orientation)?"landscape":"portrait";this.didRotate&&(this.didRotate(i),console.log('[DEPRECATION NOTICE] The method "didRotate" will be removed in 0.4, use the method "viewDidRotate" instead')),this.viewDidRotate(i)}});

},{}],43:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,CoverBox=moobile.ViewTransition.Box=new Class({Extends:moobile.ViewTransition,overlay:null,wrapper:null,enterAnimation:function(e,o,i){var n=i.getContentElement();this.overlay=new moobile.Overlay,this.overlay.addClass("transition-cover-box-overlay"),this.overlay.hide(),i.addChildComponent(this.overlay),this.wrapper=document.createElement("div"),this.wrapper.addClass("transition-cover-box-foreground-view-wrapper"),this.wrapper.wraps(e);var t=function(){n.addClass("transition-cover-box-enter"),o.addClass("transition-cover-box-background-view"),e.addClass("transition-cover-box-foreground-view"),e.show(),this.overlay.showAnimated()}.bind(this),r=function(){n.removeClass("transition-cover-box-enter"),this.didEnter(e,o,i)}.bind(this),a=new moobile.Animation(this.wrapper);a.addEvent("start",t),a.addEvent("end",r),a.start()},leaveAnimation:function(e,o,i){var n=i.getContentElement(),t=function(){n.addClass("transition-cover-box-leave"),this.overlay.hideAnimated()}.bind(this),r=function(){n.removeClass("transition-cover-box-leave"),e.removeClass("transition-cover-box-background-view"),o.removeClass("transition-cover-box-foreground-view"),o.hide(),this.overlay.removeFromParentComponent(),this.overlay.destroy(),this.overlay=null,this.didLeave(e,o,i),this.wrapper.destroy(),this.wrapper=null}.bind(this),a=new moobile.Animation(this.wrapper);a.addEvent("start",t),a.addEvent("end",r),a.start()},shouldHideViewToHideOnEnter:function(e,o,i){return!1}});

},{}],44:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Cover=moobile.ViewTransition.Cover=new Class({Extends:moobile.ViewTransition,enterAnimation:function(i,t,n){var e=n.getContentElement(),o=function(){e.addClass("transition-cover-enter"),t.addClass("transition-view-to-hide"),i.show()}.bind(this),s=function(){e.removeClass("transition-cover-enter"),t.removeClass("transition-view-to-hide"),t.hide(),this.didEnter(i,t,n)}.bind(this),a=new moobile.Animation(i);a.setAnimationClass("transition-view-to-show"),a.addEvent("start",o),a.addEvent("end",s),a.start()},leaveAnimation:function(i,t,n){var e=n.getContentElement(),o=function(){e.addClass("transition-cover-leave"),i.addClass("transition-view-to-show"),i.show()}.bind(this),s=function(){e.removeClass("transition-cover-leave"),i.removeClass("transition-view-to-show"),t.hide(),this.didEnter(i,t,n)}.bind(this),a=new moobile.Animation(t);a.setAnimationClass("transition-view-to-hide"),a.addEvent("start",o),a.addEvent("end",s),a.start()}});

},{}],45:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Cubic=moobile.ViewTransition.Cubic=new Class({Extends:moobile.ViewTransition,enterAnimation:function(i,t,e){var n=e.getContentElement(),s=e.getContentWrapperElement(),o=function(){s.addClass("transition-cubic-perspective"),t.addClass("transition-view-to-hide"),i.addClass("transition-view-to-show"),i.show()}.bind(this),a=function(){s.removeClass("transition-cubic-perspective"),t.removeClass("transition-view-to-hide"),i.removeClass("transition-view-to-show"),t.hide(),this.didEnter(i,t,e)}.bind(this),r=new moobile.Animation(n);r.setAnimationClass("transition-cubic-enter"),r.addEvent("start",o),r.addEvent("end",a),r.start()},leaveAnimation:function(i,t,e){var n=e.getContentElement(),s=e.getContentWrapperElement(),o=function(){s.addClass("transition-cubic-perspective"),t.addClass("transition-view-to-hide"),i.addClass("transition-view-to-show"),i.show()}.bind(this),a=function(){s.removeClass("transition-cubic-perspective"),i.removeClass("transition-view-to-show"),t.removeClass("transition-view-to-hide"),t.hide(),this.didLeave(i,t,e)}.bind(this),r=new moobile.Animation(n);r.setAnimationClass("transition-cubic-leave"),r.addEvent("start",o),r.addEvent("end",a),r.start()}});

},{}],46:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Drop=moobile.ViewTransition.Drop=new Class({Extends:moobile.ViewTransition,enterAnimation:function(i,t,n){var e=n.getContentElement(),o=function(){e.addClass("transition-drop-enter"),t.addClass("transition-view-to-hide"),i.show()}.bind(this),s=function(){e.removeClass("transition-drop-enter"),t.removeClass("transition-view-to-hide"),t.hide(),this.didEnter(i,t,n)}.bind(this),a=new moobile.Animation(i);a.setAnimationClass("transition-view-to-show"),a.addEvent("start",o),a.addEvent("end",s),a.start()},leaveAnimation:function(i,t,n){var e=n.getContentElement(),o=function(){e.addClass("transition-drop-leave"),i.addClass("transition-view-to-show"),i.show()}.bind(this),s=function(){e.removeClass("transition-drop-leave"),i.removeClass("transition-view-to-show"),t.hide(),this.didEnter(i,t,n)}.bind(this),a=new moobile.Animation(t);a.setAnimationClass("transition-view-to-hide"),a.addEvent("start",o),a.addEvent("end",s),a.start()}});

},{}],47:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Fade=moobile.ViewTransition.Fade=new Class({Extends:moobile.ViewTransition,enterAnimation:function(t,i,n){var e=n.getContentElement(),s=function(){e.addClass("transition-fade-enter"),t.addClass("transition-view-to-show"),t.show()}.bind(this),a=function(){e.removeClass("transition-fade-enter"),t.removeClass("transition-view-to-show"),i.hide(),this.didEnter(t,i,n)}.bind(this),o=new moobile.Animation(t);o.setAnimationClass("transition-view-to-show"),o.addEvent("start",s),o.addEvent("end",a),o.start()},leaveAnimation:function(t,i,n){var e=n.getContentElement(),s=function(){e.addClass("transition-fade-leave"),t.addClass("transition-view-to-show"),t.show()}.bind(this),a=function(){e.removeClass("transition-fade-leave"),t.removeClass("transition-view-to-show"),i.hide(),this.didEnter(t,i,n)}.bind(this),o=new moobile.Animation(i);o.setAnimationClass("transition-view-to-hide"),o.addEvent("start",s),o.addEvent("end",a),o.start()}});

},{}],48:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Flip=moobile.ViewTransition.Flip=new Class({Extends:moobile.ViewTransition,enterAnimation:function(i,t,e){var n=e.getContentElement(),s=e.getContentWrapperElement(),o=function(){s.addClass("transition-flip-perspective"),t.addClass("transition-view-to-hide"),i.addClass("transition-view-to-show"),i.show()}.bind(this),a=function(){s.removeClass("transition-flip-perspective"),i.removeClass("transition-view-to-show"),t.removeClass("transition-view-to-hide"),t.hide(),this.didEnter(i,t,e)}.bind(this),r=new moobile.Animation(n);r.setAnimationClass("transition-flip-enter"),r.addEvent("start",o),r.addEvent("end",a),r.start()},leaveAnimation:function(i,t,e){var n=e.getContentElement(),s=e.getContentWrapperElement(),o=function(){s.addClass("transition-flip-perspective"),t.addClass("transition-view-to-hide"),i.addClass("transition-view-to-show"),i.show()}.bind(this),a=function(){s.removeClass("transition-flip-perspective"),t.removeClass("transition-view-to-hide"),i.removeClass("transition-view-to-show"),t.hide(),this.didLeave(i,t,e)}.bind(this),r=new moobile.Animation(n);r.setAnimationClass("transition-flip-leave"),r.addEvent("start",o),r.addEvent("end",a),r.start()}});

},{}],49:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,None=moobile.ViewTransition.None=new Class({Extends:moobile.ViewTransition,enterAnimation:function(i,e,n){i.show(),e.hide(),this.didEnter.delay(50,this,[i,e,n])},leaveAnimation:function(i,e,n){i.show(),e.hide(),this.didLeave.delay(50,this,[i,e,n])}});

},{}],50:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition,Page=moobile.ViewTransition.Page=new Class({Extends:moobile.ViewTransition,overlay:null,wrapper:null,enterAnimation:function(e,i,n){var t=n.getContentElement();this.overlay=new moobile.Overlay,this.overlay.addClass("transition-cover-page-overlay"),this.overlay.hide(),n.addChildComponent(this.overlay),this.wrapper=document.createElement("div"),this.wrapper.addClass("transition-cover-page-foreground-view-wrapper"),this.wrapper.wraps(e);var a=function(){t.addClass("transition-cover-page-enter"),i.addClass("transition-cover-page-background-view"),e.addClass("transition-cover-page-foreground-view"),e.show(),this.overlay.showAnimated()}.bind(this),r=function(){t.removeClass("transition-cover-page-enter"),this.didEnter(e,i,n)}.bind(this),o=new moobile.Animation(this.wrapper);o.addEvent("start",a),o.addEvent("end",r),o.start()},leaveAnimation:function(e,i,n){var t=n.getContentElement(),a=function(){t.addClass("transition-cover-page-leave"),this.overlay.hideAnimated()}.bind(this),r=function(){t.removeClass("transition-cover-page-leave"),e.removeClass("transition-cover-page-background-view"),i.removeClass("transition-cover-page-foreground-view"),i.hide(),this.overlay.removeFromParentComponent(),this.overlay.destroy(),this.overlay=null,this.didLeave(e,i,n),this.wrapper.destroy(),this.wrapper=null}.bind(this),o=new moobile.Animation(this.wrapper);o.addEvent("start",a),o.addEvent("end",r),o.start()},shouldHideViewToHideOnEnter:function(e,i,n){return!1}});

},{}],51:[function(require,module,exports){
"use strict";for(var ViewTransition=moobile.ViewTransition,prefix="",vendor=["Webkit","Moz","O","ms","Khtml"],test=document.createElement("div"),i=0;i<vendor.length;i++){var name=vendor[i]+"AnimationName";if(name in test.style){prefix="-"+vendor[i].toLowerCase()+"-";break}}var create=function(n,e,t){return"@"+prefix+"keyframes "+n+" { from { "+prefix+"transform: translate3d("+e+"px, 0, 0); } to { "+prefix+"transform: translate3d("+t+"px, 0, 0); }}"},unique=function(n){return n+"-"+String.uniqueID()},Slide=moobile.ViewTransition.Slide=new Class({Extends:moobile.ViewTransition,options:{enhanceBackButtonOnEnter:!0,enhanceBackButtonOnLeave:!0},enterAnimation:function(n,e,t){var i=t.getContentElement(),o=null,a=[],s=function(){e.addClass("transition-view-to-hide"),n.addClass("transition-view-to-show"),n.show()}.bind(this),r=function(){n.removeClass("transition-view-to-show"),e.removeClass("transition-view-to-hide"),e.hide(),this.didEnter(n,e,t),a&&(a.invoke("setStyle","animation-name",null),a=null),o&&(o.destroy(),o=null)}.bind(this),l=new moobile.Animation(i);l.setAnimationClass("transition-slide-enter"),l.addEvent("start",s),l.addEvent("end",r),l.start()},leaveAnimation:function(n,e,t){var i=t.getContentElement(),o=null,a=[],s=function(){e.addClass("transition-view-to-hide"),n.addClass("transition-view-to-show"),n.show()}.bind(this),r=function(){e.removeClass("transition-view-to-hide"),n.removeClass("transition-view-to-show"),e.hide(),this.didLeave(n,e,t),a&&(a.invoke("setStyle","animation-name",null),a=null),o&&(o.destroy(),o=null)}.bind(this),l=new moobile.Animation(i);l.setAnimationClass("transition-slide-leave"),l.addEvent("start",s),l.addEvent("end",r),l.start()}});

},{}],52:[function(require,module,exports){
"use strict";var ViewTransition=moobile.ViewTransition=new Class({Implements:[Events,Options,Class.Binds],initialize:function(e){return this.setOptions(e),this},enter:function(e,t,i){return t.disableTouch(),e.disableTouch(),this.enterAnimation(e,t,i),this.fireEvent("start"),this},leave:function(e,t,i){return e.disableTouch(),t.disableTouch(),this.leaveAnimation(e,t,i),this.fireEvent("start"),this},didEnter:function(e,t,i){return t.enableTouch(),e.enableTouch(),this.fireEvent("complete"),this},didLeave:function(e,t,i){return t.enableTouch(),e.enableTouch(),this.fireEvent("complete"),this},enterAnimation:function(e,t,i){throw new Error("You must override this method")},leaveAnimation:function(e,t,i){throw new Error("You must override this method")}});

},{}],53:[function(require,module,exports){
"use strict";var ScrollView=moobile.ScrollView=new Class({Extends:moobile.View,__activeTouch:null,__activeTouchTime:null,__activeTouchScroll:null,__activeTouchDuration:null,__activeTouchCanceled:!1,__scroller:null,__offset:{x:null,y:null},__page:{x:null,y:null},__pageOffset:{x:0,y:0},__scrollToPageTimer:null,__contentSize:{x:null,y:null},options:{scroller:["Native","IScroll"],scroll:"vertical",scrollbar:"vertical",bounce:Browser.platform.ios,momentum:!0,snapToPage:!1,snapToPageAt:20,snapToPageSizeX:null,snapToPageSizeY:null,snapToPageDuration:150,snapToPageDelay:150,initialPageX:0,initialPageY:0,initialScrollX:0,initialScrollY:0,cancelTouchThresholdX:10,cancelTouchThresholdY:10},willBuild:function(){this.parent(),this.addClass("scroll-view")},didBuild:function(){this.parent(),("scrollX"in this.options||"scrollY"in this.options)&&(console.log('[DEPRECATION NOTICE] The options "scrollX" and "scrollY" will be removed in 0.4, use the "scroll" option instead'),this.options.scrollX&&this.options.scrollY?this.options.scroll="both":(this.options.scrollX&&(this.options.scroll="horizontal"),this.options.scrollY&&(this.options.scroll="vertical")));var t={scroll:this.options.scroll,scrollbar:this.options.scrollbar,bounce:this.options.bounce,momentum:this.options.momentum,snapToPage:this.options.snapToPage,snapToPageAt:this.options.snapToPageAt,snapToPageSizeX:this.options.snapToPageSizeX,snapToPageSizeY:this.options.snapToPageSizeY,snapToPageDuration:this.options.snapToPageDuration,snapToPageDelay:this.options.snapToPageDelay};this.__scroller=moobile.Scroller.create(this.contentElement,this.contentWrapperElement,this.options.scroller,t),this.__scroller.addEvent("scroll",this.bound("__onScroll")),this.__scroller.addEvent("scrollend",this.bound("__onScrollEnd")),this.__scroller.addEvent("scrollstart",this.bound("__onScrollStart")),this.__scroller.addEvent("touchcancel",this.bound("__onTouchCancel")),this.__scroller.addEvent("touchstart",this.bound("__onTouchStart")),this.__scroller.addEvent("touchend",this.bound("__onTouchEnd"));var o=this.__scroller.getName();o&&this.addClass(o+"-engine")},didBecomeReady:function(){this.parent();var t=this.options.initialScrollX,o=this.options.initialScrollY,e="scrollTo";this.options.snapToPage&&(t=this.options.initialPageX,o=this.options.initialPageY,e="scrollToPage"),this.__scroller.refresh(),this[e].call(this,t,o)},didUpdateLayout:function(){this.parent(),this.__scroller.refresh()},destroy:function(){this.__scroller.removeEvent("scroll",this.bound("__onScroll")),this.__scroller.removeEvent("scrollend",this.bound("__onScrollEnd")),this.__scroller.removeEvent("scrollstart",this.bound("__onScrollStart")),this.__scroller.removeEvent("touchcancel",this.bound("__onTouchCancel")),this.__scroller.removeEvent("touchstart",this.bound("__onTouchStart")),this.__scroller.removeEvent("touchend",this.bound("__onTouchEnd")),this.__scroller.destroy(),this.__scroller=null,this.parent()},setContentSize:function(t,o){return(t>=0||null===t)&&this.contentElement.setStyle("width",t),(o>=0||null===o)&&this.contentElement.setStyle("height",o),(this.__contentSize.x!==t||this.__contentSize.y!==o)&&this.updateLayout(),this.__contentSize.x=t,this.__contentSize.y=o,this},getContentSize:function(){return this.contentElement.getScrollSize()},getContentWrapperSize:function(){return this.contentWrapperElement.getSize()},getContentScroll:function(){return this.__scroller.getScroll()},scrollTo:function(t,o,e){return this.__scroller.scrollTo(t,o,e),this},scrollToElement:function(t,o){return this.__scroller.scrollToElement(t),this},scrollToPage:function(t,o,e){t=t||0,o=o||0,0>t&&(t=0),0>o&&(o=0);var i=this.getContentWrapperSize(),n=this.getContentSize(),l=this.options.snapToPageSizeX||this.getContentWrapperSize().x,s=this.options.snapToPageSizeY||this.getContentWrapperSize().y,r=n.x-i.x,c=n.y-i.y,h=l*t,a=s*o;h>r&&(h=r),a>c&&(a=c);var _=this.getContentScroll();return(_.x!==h||_.y!==a)&&this.scrollTo(h,a,e),this.__scrollToPageTimer&&(clearTimeout(this.scrolltopage),this.__scrollToPageTimer=null),(this.__page.x!==t||this.__page.y!==o)&&(this.__pageOffset.x=Math.abs(h-t*l),this.__pageOffset.y=Math.abs(a-o*s),this.__scrollToPageTimer=this.fireEvent.delay(e+5,this,["scrolltopage",[t,o]])),this.__page.x=t,this.__page.y=o,this},getPage:function(){var t=0,o=0,e=this.options.snapToPageSizeX||this.getContentWrapperSize().x,i=this.options.snapToPageSizeY||this.getContentWrapperSize().y;if(e&&i){var n=this.getContentScroll();n.x=n.x>0?n.x:0,n.y=n.y>0?n.y:0,t=Math.floor(n.x/e),o=Math.floor(n.y/i)}return{x:t,y:o}},getPageOffset:function(){return this.__pageOffset},getScroller:function(){return this.__scroller},willHide:function(){this.parent(),this.__offset=this.__scroller.getScroll()},didShow:function(){this.parent(),this.__scroller.refresh(),this.__scroller.scrollTo(this.__offset.x,this.__offset.y)},__snapToPage:function(){var t=this.getContentSize(),o=this.getContentScroll();o.x=o.x>0?o.x:0,o.y=o.y>0?o.y:0;var e=o.x-this.__activeTouchScroll.x,i=o.y-this.__activeTouchScroll.y,n=Math.abs(e),l=Math.abs(i);if(0===e&&0===i)return this;var s=("both"===this.options.scroll||"horizontal"===this.options.scroll,"both"===this.options.scroll||"vertical"===this.options.scroll,this.options.snapToPageAt),r=this.options.snapToPageDelay,c=(this.options.snapToPageDuration,this.options.snapToPageSizeX||this.getContentWrapperSize().x),h=this.options.snapToPageSizeY||this.getContentWrapperSize().y,a=100*(n-Math.floor(n/c)*c)/c,_=100*(l-Math.floor(l/h)*h)/h,u=this.getPage();return(0>e||this.__pageOffset.x>0)&&(u.x+=1),(0>i||this.__pageOffset.y>0)&&(u.y+=1),n>=10&&(a>=s||this.__activeTouchDuration<r)&&(u.x+=e>0?1:-1),l>=10&&(_>=s||this.__activeTouchDuration<r)&&(u.y+=i>0?1:-1),u.x<0&&(u.x=0),u.y<0&&(u.y=0),(u.x+1)*c>t.x&&(u.x=Math.floor(t.x/c)-1),(u.y+1)*h>t.y&&(u.y=Math.floor(t.y/h)-1),this.scrollToPage(u.x,u.y,this.options.snapToPageDuration),this.fireEvent("snaptopage",[u.x,u.y]),this},__onTouchCancel:function(){this.__activeTouch=null,this.__activeTouchTime=null,this.__activeTouchScroll=null,this.__activeTouchDuration=null},__onTouchStart:function(t){var o=t.changedTouches[0];null===this.__activeTouch&&(this.__activeTouch=o,this.__activeTouchTime=Date.now(),this.__activeTouchScroll=this.getContentScroll(),this.__activeTouchCanceled=!1)},__onTouchEnd:function(t){t.touches.length>0||(this.__activeTouchDuration=Date.now()-this.__activeTouchTime,this.options.snapToPage&&this.__snapToPage(),this.__activeTouch=null,this.__activeTouchTime=null,this.__activeTouchScroll=null,this.__activeTouchDuration=null,this.__activeTouchCanceled=!1)},__onScroll:function(){if(this.__activeTouch&&this.__activeTouchCanceled===!1){var t=this.getContentScroll(),o=Math.abs(this.__activeTouchScroll.x-t.x),e=Math.abs(this.__activeTouchScroll.y-t.y);(o>=this.options.cancelTouchThresholdX||e>=this.options.cancelTouchThresholdY)&&(this.__activeTouchCanceled=!0,this.contentElement.getElements("*").each(function(t){var o=document.createEvent("CustomEvent");o.initCustomEvent("touchcancel",!1,!1),t.dispatchEvent(o)}))}this.fireEvent("scroll")},__onScrollStart:function(){this.fireEvent("scrollstart")},__onScrollEnd:function(){this.fireEvent("scrollend")},getScrollSize:function(){return console.log('[DEPRECATION NOTICE] The method "getScrollSize" will be removed in 0.4, use the method "getContentSize" instead'),this.getContentSize()},getScroll:function(){return console.log('[DEPRECATION NOTICE] The method "getScroll" will be removed in 0.4, use the method "getContentScroll" instead'),this.getContentScroll()}});ScrollView.at=function(t,o,e){var i=Element.at(t);return i?moobile.Component.create(ScrollView,i,"data-view",o,e):null},moobile.Component.defineRole("scroll-view",null,function(t){this.addChildComponent(moobile.Component.create(ScrollView,t,"data-scroll-view"))});

},{}],54:[function(require,module,exports){
"use strict";var ViewSet=moobile.ViewSet=new Class({Extends:moobile.View,_tabBar:null,willBuild:function(){this.parent(),this.addClass("view-set");var e=this.getRoleElement("tab-bar");null===e&&(e=document.createElement("div"),e.inject(this.element),e.setRole("tab-bar"))},setTabBar:function(e){return this._tabBar!==e&&e?(this._tabBar?this._tabBar.replaceWithmoobile.Component(e,!0):this.addChildComponent(e,"footer"),this._tabBar=e,this._tabBar.addClass("view-set-tab-bar"),this):this},getTabBar:function(){return this._tabBar}});moobile.Component.defineRole("view-set",null,null,function(e){this.addChildComponent(moobile.Component.create(moobile.ViewSet,e,"data-view-set"))}),moobile.Component.defineRole("tab-bar",moobile.ViewSet,null,function(e){this.setTabBar(moobile.Component.create(moobile.TabBar,e,"data-tab-bar"))});

},{}],55:[function(require,module,exports){
"use strict";var ViewStack=moobile.ViewStack=new Class({Extends:moobile.View,willBuild:function(){this.parent(),this.addClass("view-stack")}});moobile.Component.defineRole("view-stack",null,null,function(e){this.addChildComponent(moobile.Component.create(moobile.ViewStack,e,"data-view-stack"))});

},{}],56:[function(require,module,exports){
"use strict";var View=moobile.View=new Class({Extends:moobile.Component,__layout:null,contentElement:null,contentWrapperElement:null,options:{layout:"vertical"},willBuild:function(){this.parent(),this.addClass("view");var t=this.getRoleElement("content");null===t&&(t=document.createElement("div"),t.ingest(this.element),t.inject(this.element),t.setRole("content"));var e=this.getRoleElement("content-wrapper");null===e&&(e=document.createElement("div"),e.wraps(t),e.setRole("content-wrapper"))},didBuild:function(){this.parent();var t=this.element.get("class");t&&t.split(" ").each(function(t){t=t.trim(),t&&this.contentElement.addClass(t+"-content")},this),this.setLayout(this.options.layout)},destroy:function(){this.contentElement=null,this.parent()},enableTouch:function(){return this.removeClass("disable").addClass("enable"),this},disableTouch:function(){return this.removeClass("enable").addClass("disable"),this},addChildComponent:function(t,e,n){return"header"===e?this.parent(t,"top"):"footer"===e?this.parent(t,"bottom"):this.parent(t,e,n||this.contentElement)},addChildComponents:function(t,e){return"header"===e?this.parent(t,"top"):"footer"===e?this.parent(t,"bottom"):this.addChildComponentsInside(t,this.contentElement,e)},willAddChildComponent:function(t){this.parent(t),t.setParentView(this)},willRemoveChildComponent:function(t){this.parent(t),t.setParentView(null)},getContentElement:function(){return this.contentElement},getContentWrapperElement:function(){return this.contentWrapperElement},setLayout:function(t){return this.__layout===t?this:(this.willChangeLayout(t),this.__layout&&this.removeClass("view-layout-"+this.__layout),this.__layout=t,this.__layout&&this.addClass("view-layout-"+this.__layout),this.didChangeLayout(t),this)},getLayout:function(){return this.__layout},willChangeLayout:function(t){},didChangeLayout:function(t){}});Class.refactor(moobile.Component,{__parentView:null,setParentView:function(t){if(this.__parentView===t)return this;if(this.parentViewWillChange(t),this.__parentView=t,this.parentViewDidChange(t),this instanceof View)return this;var e=function(t){return!(t instanceof View)};return this.getChildComponents().filter(e).invoke("setParentView",t),this},getParentView:function(){return this.__parentView},parentViewWillChange:function(t){},parentViewDidChange:function(t){},willAddChildComponent:function(t){this.previous(t),t.setParentView(this.__parentView)},willRemoveChildComponent:function(t){this.previous(t),t.setParentView(null)}}),View.at=function(t,e,n){var i=Element.at(t);return i?moobile.Component.create(View,i,"data-view",e,n):null},moobile.Component.defineRole("view",null,null,function(t){this.addChildComponent(moobile.Component.create(View,t,"data-view"))}),moobile.Component.defineRole("content",View,{traversable:!0},function(t){this.contentElement=t,this.contentElement.addClass("view-content")}),moobile.Component.defineRole("content-wrapper",View,{traversable:!0},function(t){this.contentWrapperElement=t,this.contentWrapperElement.addClass("view-content-wrapper")}),moobile.Component.defineRole("view-content",View,{traversable:!0},function(t){console.log('[DEPRECATION NOTICE] The role "view-content" will be removed in 0.4, use the role "content" instead'),this.contentElement=t,this.contentElement.addClass("view-content")}),moobile.Component.defineStyle("dark",View,{attach:function(t){t.addClass("style-dark")},detach:function(t){t.removeClass("style-dark")}}),moobile.Component.defineStyle("light",View,{attach:function(t){t.addClass("style-light")},detach:function(t){t.removeClass("style-light")}});

},{}],57:[function(require,module,exports){
"use strict";var ViewController=moobile.ViewController,WindowController=moobile.WindowController=new Class({Extends:ViewController,__rootViewController:null,loadView:function(){var o=document.id("window");null===o&&(o=document.createElement("div"),o.inject(document.body)),this.view=new moobile.Window(o)},setRootViewController:function(o){return this.__rootViewController&&(this.__rootViewController.destroy(),this.__rootViewController=null),o&&this.addChildViewController(o),this.__rootViewController=o,this},getRootViewController:function(){return this.__rootViewController}});

},{}],58:[function(require,module,exports){
"use strict";var View=moobile.View,Window=moobile.Window=new Class({Extends:View,initialize:function(n,i,t){return instance=this,window.addEvent("orientationchange",this.bound("__onWindowOrientationChange")),this.parent(n,i,t)},destroy:function(){instance=null,window.removeEvent("orientationchange",this.bound("__onWindowOrientationChange")),this.parent()},willBuild:function(){this.parent(),this.element.addClass("window")},didAddChildComponent:function(n){this.parent(),n.__setParent(this),n.__setWindow(this)},__onWindowOrientationChange:function(n){this.updateLayout()}}),instance=null;Window.getCurrentInstance=function(){return instance};

},{}],59:[function(require,module,exports){
Class.Binds=new Class({$bound:{},bound:function(n){return this.$bound[n]?this.$bound[n]:this.$bound[n]=this[n].bind(this)}});

},{}],60:[function(require,module,exports){
!function(){[Element,Window,Document].invoke("implement",{hasEvent:function(n){var e=this.retrieve("events"),t=e&&e[n]?e[n].values:null;if(t)for(var o=t.length;o--;)if(o in t)return!0;return!1}});var n=function(n,e,t,o){return e=n[e],t=n[t],function(n,i){i||(i=o),t&&!this.hasEvent(i)&&t.call(this,n,i),e&&e.call(this,n,i)}},e=function(n,e,t,o){return function(i,c){e[t].call(this,i,c||o),n[t].call(this,i,c||o)}},t=Element.Events;Element.defineCustomEvent=function(o,i){var c=t[i.base];return i.onAdd=n(i,"onAdd","onSetup",o),i.onRemove=n(i,"onRemove","onTeardown",o),t[o]=c?Object.append({},i,{base:c.base,condition:function(n){return(!c.condition||c.condition.call(this,n))&&(!i.condition||i.condition.call(this,n))},onAdd:e(i,c,"onAdd",o),onRemove:e(i,c,"onRemove",o)}):i,this};var o=function(n){var e="on"+n.capitalize();return Element[n+"CustomEvents"]=function(){Object.each(t,function(n,t){n[e]&&n[e].call(n,t)})},o};o("enable")("disable")}();

},{}],61:[function(require,module,exports){
Browser.Features.Touch=function(){return 1==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),Browser.Features.iOSTouch=function(){var t="cantouch",e=document.html,n=!1;if(!e.addEventListener)return!1;var r=function(){e.removeEventListener(t,r,!0),n=!0};try{e.addEventListener(t,r,!0);var o=document.createEvent("TouchEvent");return o.initTouchEvent(t),e.dispatchEvent(o),n}catch(c){}return r(),!1}();

},{}],62:[function(require,module,exports){
(function(){if(Browser.Device={name:"other"},Browser.ios){var e=navigator.userAgent.toLowerCase().match(/(ip(ad|od|hone))/)[0];Browser.Device[e]=!0,Browser.Device.name=e}2==this.devicePixelRatio&&(Browser.hasHighResolution=!0),Browser.isMobile=!["mac","linux","win"].contains(Browser.name)}).call(this);

},{}],63:[function(require,module,exports){
Browser.Features.Touch&&function(){var e,n,t="pinch",o=t+":threshold",i={touchstart:function(e){2==e.targetTouches.length&&(n=!0)},touchmove:function(i){if(!e&&n){i.preventDefault();var c=this.retrieve(o,.5);i.scale<1+c&&i.scale>1-c||(n=!1,i.pinch=i.scale>1?"in":"out",this.fireEvent(t,i))}}};Element.defineCustomEvent(t,{onSetup:function(){this.addEvents(i)},onTeardown:function(){this.removeEvents(i)},onEnable:function(){e=!1},onDisable:function(){e=!0}})}();

},{}],64:[function(require,module,exports){
!function(){var e,t,n="swipe",i=n+":distance",o=n+":cancelVertical",c=50,a={},r=function(){t=!1},u={touchstart:function(e){if(!(e.touches.length>1)){var n=e.touches[0];t=!0,a={x:n.pageX,y:n.pageY}}},touchmove:function(r){if(!e&&t){var u=r.changedTouches[0],s={x:u.pageX,y:u.pageY};if(this.retrieve(o)&&Math.abs(a.y-s.y)>10)return void(t=!1);var h=this.retrieve(i,c),f=s.x-a.x,v=-h>f,d=f>h;(d||v)&&(r.preventDefault(),t=!1,r.direction=v?"left":"right",r.start=a,r.end=s,this.fireEvent(n,r))}},touchend:r,touchcancel:r};Element.defineCustomEvent(n,{onSetup:function(){this.addEvents(u)},onTeardown:function(){this.removeEvents(u)},onEnable:function(){e=!1},onDisable:function(){e=!0,r()}})}();

},{}],"/src/main.js":[function(require,module,exports){
(function (global){
"use strict";parseFloat(MooTools.version)<1.5&&console.log("[ERROR] Moobile now requires Mootools v1.6+"),global.requestAnimationFrame=require("moofx/lib/frame").request,global.cancelAnimationFrame=require("moofx/lib/frame").cancel,require("../node_modules/iscroll/src/iscroll.js"),require("../vendor/mootools-class-extras/Source/Class.Binds.js"),require("../vendor/mootools-custom-event/Source/Element.defineCustomEvent.js"),require("../vendor/mootools-mobile/Source/Browser/Features.Touch.js"),require("../vendor/mootools-mobile/Source/Browser/Mobile.js"),require("../vendor/mootools-mobile/Source/Touch/Pinch.js"),require("../vendor/mootools-mobile/Source/Touch/Swipe.js"),require("./utils/event"),require("./utils/class"),require("./utils/element"),require("./utils/request"),require("./utils/type/array"),require("./utils/type/string"),require("./core"),require("./event/firer"),require("./event/ready"),require("./event/touch"),require("./event/tap"),require("./event/css"),require("./animation/animation"),require("./component/component"),require("./component/overlay"),require("./control/control"),require("./control/text"),require("./control/activity-indicator"),require("./control/bar"),require("./control/button-group"),require("./control/button"),require("./control/image"),require("./control/list"),require("./control/list-item"),require("./control/navigation-bar"),require("./control/slider"),require("./control/tab-bar"),require("./control/tab"),require("./dialog/alert"),require("./scroller/scroller"),require("./scroller/scroller-iscroll"),require("./scroller/scroller-native"),require("./theme/theme"),require("./view/view"),require("./view/scroll-view"),require("./view/view-set"),require("./view/view-stack"),require("./view-controller/view-controller"),require("./view-controller/view-controller-stack"),require("./view-controller/view-controller-set"),require("./view-transition/view-transition"),require("./view-transition/view-transition-box"),require("./view-transition/view-transition-cover"),require("./view-transition/view-transition-cubic"),require("./view-transition/view-transition-drop"),require("./view-transition/view-transition-fade"),require("./view-transition/view-transition-flip"),require("./view-transition/view-transition-none"),require("./view-transition/view-transition-page"),require("./view-transition/view-transition-slide"),require("./window/window"),require("./window/window-controller"),moobile.Request=Request,moobile.EventFirer=moobile.Firer,moobile.ViewTransition.Cover.Box=moobile.ViewTransition.Box,moobile.ViewTransition.Cover.Page=moobile.ViewTransition.Page,module.exports=global.Moobile=global.moobile;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../node_modules/iscroll/src/iscroll.js":1,"../vendor/mootools-class-extras/Source/Class.Binds.js":59,"../vendor/mootools-custom-event/Source/Element.defineCustomEvent.js":60,"../vendor/mootools-mobile/Source/Browser/Features.Touch.js":61,"../vendor/mootools-mobile/Source/Browser/Mobile.js":62,"../vendor/mootools-mobile/Source/Touch/Pinch.js":63,"../vendor/mootools-mobile/Source/Touch/Swipe.js":64,"./animation/animation":7,"./component/component":8,"./component/overlay":9,"./control/activity-indicator":10,"./control/bar":11,"./control/button":13,"./control/button-group":12,"./control/control":14,"./control/image":15,"./control/list":17,"./control/list-item":16,"./control/navigation-bar":18,"./control/slider":19,"./control/tab":21,"./control/tab-bar":20,"./control/text":22,"./core":23,"./dialog/alert":24,"./event/css":25,"./event/firer":26,"./event/ready":27,"./event/tap":28,"./event/touch":29,"./scroller/scroller":32,"./scroller/scroller-iscroll":30,"./scroller/scroller-native":31,"./theme/theme":33,"./utils/class":34,"./utils/element":35,"./utils/event":36,"./utils/request":37,"./utils/type/array":38,"./utils/type/string":39,"./view-controller/view-controller":42,"./view-controller/view-controller-set":40,"./view-controller/view-controller-stack":41,"./view-transition/view-transition":52,"./view-transition/view-transition-box":43,"./view-transition/view-transition-cover":44,"./view-transition/view-transition-cubic":45,"./view-transition/view-transition-drop":46,"./view-transition/view-transition-fade":47,"./view-transition/view-transition-flip":48,"./view-transition/view-transition-none":49,"./view-transition/view-transition-page":50,"./view-transition/view-transition-slide":51,"./view/scroll-view":53,"./view/view":56,"./view/view-set":54,"./view/view-stack":55,"./window/window":58,"./window/window-controller":57,"moofx/lib/frame":2}]},{},[])("/src/main.js")
});